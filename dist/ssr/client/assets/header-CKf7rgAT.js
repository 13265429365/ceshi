import{n as M,I as E,z as G,J as O,r as _,w as R,E as j,A as J,_ as K,s as a,t as u,y as t,v as o,K as B,F as p,Q as D,B as r,D as i,C as k,u as d,G as Q,x as w,L as C,M as T,N as x,O as W,H as P,P as H}from"./index-BAN5Iapo.js";import{Q as X}from"./QToolbarTitle-CFXJRzxn.js";import{Q as v}from"./QImg-D2kCY975.js";import{Q as g}from"./QItemSection-aoTsTvB4.js";import{Q as b}from"./QItem-Dc39kTTK.js";import{Q as A}from"./QList-C7857-1x.js";import{Q as N}from"./QBtnDropdown-DJNx__ME.js";import{s as Y,Q as Z}from"./switchLanguage-CydugEGz.js";import{Q as y}from"./QChip-DjQSvlt9.js";import{Q as $}from"./QMenu-DtDaNURZ.js";import{Q as ee,a as te}from"./QHeader-BavNxAlr.js";import{C as oe}from"./ClosePopup-C6bioHn7.js";import{u as se}from"./info-BM1e2avu.js";import ne from"./login-DMWcgi-1.js";import ae from"./register-B4CUrnMY.js";import{G as le}from"./dialog-Cc7HrlA3.js";import{n as re,p as ie,s as de,f as ue}from"./auth-CCW2QtHW.js";import{b as ce}from"./order-Du1Vetgn.js";import"./selection-D7ga6MDQ.js";import"./QResizeObserver-Dzscdk3d.js";import"./info-CUYh_rm3.js";import"./QForm-zTtjdAwz.js";import"./index-CvQOyMs9.js";import"./QItemLabel-DLppKcAi.js";import"./QSelect-5yNjMZ1F.js";import"./format-DyQxkAtJ.js";const me=M({name:"HeaderLayouts",__name:"header",setup(l,{expose:n}){n();const f=E(),e=G(),S=O(),L=_(null),s=_(""),c=_(f.userToken.length>0),m=_(!1),h=_(!1),{userInfo:q}=se();R(f,I=>{c.value=I.userToken.length>0}),R(f.userInfo,I=>{q.value=I}),j(()=>{switch(f.userToken!=""&&(q.value=f.userInfo),S.currentRoute.value.name){case"Login":z();break;case"Register":V();break}});const U=()=>{f.updateToken(""),S.push({name:"HomeIndex"})},z=()=>{m.value=!m.value},V=()=>{h.value=!h.value},F={$userStore:f,$initStore:e,$router:S,logoutDialogRef:L,searchVal:s,isLogin:c,loginShow:m,registerShow:h,userInfo:q,logoutFunc:U,switchDialogLogin:z,switchDialogRegister:V,switchDialogFunc:()=>{m.value=!m.value,h.value=!h.value},LoginPages:ne,RegisterPages:ae,switchLanguage:Y,GlobalDialog:le,get imageSrc(){return J},get nowAuth(){return re},get pendingAuth(){return ie},get successAuth(){return de},get failedAuth(){return ue},get balanceDepositMode(){return ce}};return Object.defineProperty(F,"__isScriptSetup",{enumerable:!1,value:!0}),F}}),fe=["src"],ge={class:"q-ml-sm"},he={class:"row no-wrap items-center"},pe=["textContent"],we={class:"row items-center no-wrap"},xe={key:0,class:"row items-center no-wrap"},ye={class:"row"},_e={class:"q-ml-sm"},ke={class:"row items-center"},ve={class:"q-mr-xs text-body1"},be={class:"text-grey-7 text-caption"},Se=["textContent"],qe={class:"row no-wrap q-mt-xs"},Ie={class:"q-ml-xs",style:{"font-size":"10px"}},De={key:1},Qe={class:"q-ml-xs",style:{"font-size":"10px"}},Ce={class:"q-ml-xs",style:{"font-size":"10px"}},Ae={style:{"font-size":"10px"}},Le={style:{"font-size":"10px"}},ze={style:{"font-size":"10px"}},Ve={style:{"font-size":"10px"}},Fe={key:1};function Re(l,n,f,e,S,L){return a(),u(p,null,[t(ee,null,{default:o(()=>[t(te,{class:"q-pr-xl",style:{height:"60px","padding-left":"64px"}},{default:o(()=>[t(X,{onClick:n[0]||(n[0]=s=>e.$router.push({name:"HomeIndex"})),shrink:"",class:"cursor-pointer text-white",style:{"margin-right":"88px"}},{default:o(()=>[t(D,null,{default:o(()=>[r("img",{width:"42px",height:"42px",src:e.imageSrc(e.$initStore.config.logo),alt:""},null,8,fe)]),_:1}),r("span",ge,i(e.$initStore.config.name),1)]),_:1}),r("div",he,[(a(!0),u(p,null,k(e.$initStore.menuList.navigation,(s,c)=>(a(),u("div",{key:c},[s.isDesktop==1&&s.children&&s.children.length>0?(a(),d(N,{key:0,"menu-offset":[80,18],class:"text-white q-mr-sm q-py-xs q-px-sm",label:l.$t(s.name),dense:"",flat:"","no-wrap":"","no-caps":""},{default:o(()=>[s.children.length>0?(a(),d(A,{key:0,class:"q-ma-sm"},{default:o(()=>[(a(!0),u(p,null,k(s.children,(m,h)=>(a(),d(b,{key:h,clickable:"","aria-hidden":"true",to:m.route,class:"rounded-borders"},{default:o(()=>[t(g,{avatar:"",style:{"min-width":"auto"}},{default:o(()=>[t(v,{"no-spinner":"",width:"30px",height:"30px",src:e.imageSrc(m.icon??"")},null,8,["src"])]),_:2},1024),t(g,{class:"text-grey-8"},{default:o(()=>[Q(i(l.$t(m.name)),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:2},1024)):w("",!0)]),_:2},1032,["label"])):C((a(),d(x,{key:1,class:"text-white q-mr-sm q-py-xs q-px-md",label:l.$t(s.name),dense:"",flat:"","no-wrap":"","no-caps":"",to:s.route},null,8,["label","to"])),[[T,s.isDesktop==1]])]))),128))]),t(N,{"menu-offset":[310,18],class:"text-white q-mr-sm q-py-xs q-px-sm",label:l.$t("more"),dense:"",flat:"","no-caps":""},{default:o(()=>[t(A,{class:"q-ma-sm row",style:{"max-width":"390px"}},{default:o(()=>[(a(!0),u(p,null,k(e.$initStore.menuList.more,(s,c)=>C((a(),d(b,{onClick:m=>e.$router.push(s.route),class:"rounded-borders q-mt-md col-4",key:c,clickable:"","aria-hidden":"true"},{default:o(()=>[t(g,{avatar:"",style:{"min-width":"auto"}},{default:o(()=>[t(v,{"no-spinner":"",width:"30px",height:"30px",src:e.imageSrc(s.icon)},null,8,["src"])]),_:2},1024),t(g,{class:"text-grey-8"},{default:o(()=>[r("span",{class:"ellipsis",style:{width:"60px"},textContent:i(l.$t(s.name))},null,8,pe)]),_:2},1024)]),_:2},1032,["onClick"])),[[T,s.isDesktop==1]])),128))]),_:1})]),_:1},8,["label"]),t(Z),t(W,{dense:"",rounded:"",outlined:"",modelValue:e.searchVal,"onUpdate:modelValue":n[1]||(n[1]=s=>e.searchVal=s),color:"white","input-style":{color:"#fff"},placeholder:l.$t("search")},{prepend:o(()=>[t(P,{color:"white",name:"o_search"})]),_:1},8,["modelValue","placeholder"]),r("div",we,[e.isLogin?(a(),u("div",xe,[t(x,{onClick:n[2]||(n[2]=s=>e.$router.push({name:"WalletsDeposit",query:{mode:e.balanceDepositMode}})),rounded:"",flat:"",dense:"","no-wrap":"",class:"bg-primary text-white q-px-md q-mx-sm","no-caps":"",label:l.$t("deposit")},null,8,["label"]),t(x,{class:"q-mx-xs",round:"",flat:"","no-caps":""},{default:o(()=>[t(D,{size:"28px"},{default:o(()=>[t(v,{"no-spinner":"",src:e.imageSrc(e.userInfo.Avatar)},null,8,["src"])]),_:1}),t($,{offset:[300,13],class:"q-pa-sm"},{default:o(()=>[t(A,{style:{"min-width":"300px"}},{default:o(()=>[t(b,{"aria-hidden":"true"},{default:o(()=>[r("div",ye,[t(D,{size:"40px",class:"q-mt-sm cursor-pointer",onClick:n[3]||(n[3]=s=>e.$router.push({name:"SettingsIndex"}))},{default:o(()=>[t(v,{"no-spinner":"",src:e.imageSrc(e.userInfo.avatar)},null,8,["src"])]),_:1}),r("div",_e,[r("div",ke,[r("span",ve,i(e.userInfo.userName??"--"),1),r("span",be,"(id:"+i(e.userInfo.id)+")",1)]),r("div",{class:"text-grey text-caption",textContent:i(e.userInfo.email==""?"- -":e.userInfo.email)},null,8,Se),r("div",qe,[e.userInfo.levelInfo.name!=""&&e.$initStore.setting.basic.showLevel?(a(),d(x,{key:0,size:"xs",rounded:"",flat:"",dense:"","no-wrap":"",class:"q-px-sm q-mr-xs","no-caps":"",onClick:n[4]||(n[4]=s=>e.$router.push({name:"UserLevelIndex"})),style:{border:"1px solid #F7DEB6",color:"#F7DEB6",background:"#322B19"}},{default:o(()=>[r("div",Ie,i(e.userInfo.levelInfo.name),1)]),_:1})):w("",!0),e.$initStore.setting.basic.showScore?(a(),u("div",De,[e.userInfo.Score>60?(a(),d(y,{key:0,size:"xs",outline:"",class:"text-green bg-white","no-caps":""},{default:o(()=>[r("div",Qe,i(l.$t("creditScore")+e.userInfo.score),1)]),_:1})):(a(),d(y,{key:1,size:"xs",outline:"",class:"bg-white text-red"},{default:o(()=>[r("div",Ce,i(l.$t("creditScore")+e.userInfo.score),1)]),_:1}))])):w("",!0),e.$initStore.setting.basic.showAuth?(a(),u("div",{key:2,onClick:n[6]||(n[6]=s=>e.$router.push({name:"UserAuthIndex"}))},[e.userInfo.authInfo.type==e.nowAuth?(a(),d(y,{key:0,size:"xs",outline:"",class:"bg-white text-red"},{default:o(()=>[r("div",Ae,i(l.$t("nowAuth")),1)]),_:1})):e.userInfo.authInfo.type==e.pendingAuth?(a(),d(y,{key:1,size:"xs",outline:"",class:"text-info bg-white"},{default:o(()=>[r("div",Le,i(l.$t("pendingAuth")),1)]),_:1})):e.userInfo.authInfo.type==e.successAuth?(a(),d(y,{key:2,size:"xs",outline:"",class:"text-primary bg-white"},{default:o(()=>[r("div",ze,i(l.$t("successAuth")),1)]),_:1})):w("",!0),e.userInfo.authInfo.type==e.failedAuth?(a(),d(y,{key:3,size:"xs",outline:"",class:"text-negative bg-white",onClick:n[5]||(n[5]=s=>e.$router.push({name:"UserAuthIndex"}))},{default:o(()=>[r("div",Ve,i(l.$t("failedAuth")),1)]),_:1})):w("",!0)])):w("",!0)])])])]),_:1}),t(H,{inset:"",class:"q-mt-md q-mb-sm"}),(a(!0),u(p,null,k(e.$initStore.menuList.setting,s=>(a(),u(p,{key:s},[(a(!0),u(p,null,k(s.children,c=>C((a(),d(b,{key:c,onClick:m=>e.$router.push(c.route),dense:"",clickable:"","aria-hidden":"true",class:"q-py-md rounded-borders"},{default:o(()=>[t(g,{avatar:"",style:{"min-width":"auto"}},{default:o(()=>[t(v,{"no-spinner":"",width:"24px",height:"24px",src:e.imageSrc(c.icon)},null,8,["src"])]),_:2},1024),t(g,{class:"text-grey-8 text-body1"},{default:o(()=>[Q(i(l.$t(c.name)),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[oe]])),128)),t(H,{inset:"",class:"q-mt-md q-mb-sm"})],64))),128)),t(b,{onClick:n[7]||(n[7]=s=>e.logoutDialogRef?.openFunc()),clickable:"","aria-hidden":"true",class:"rounded-borders"},{default:o(()=>[t(g,{avatar:"",style:{"min-width":"auto"}},{default:o(()=>[t(P,{size:"24px",name:"logout"})]),_:1}),t(g,{class:"text-grey-8 text-body1"},{default:o(()=>[Q(i(l.$t("logout")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])):(a(),u("div",Fe,[t(x,{onClick:n[8]||(n[8]=s=>e.switchDialogLogin()),rounded:"",flat:"",dense:"","no-wrap":"",class:"bg-grey-4 text-grey-8 q-px-md q-ml-sm","no-caps":"",label:l.$t("login")},null,8,["label"]),t(x,{onClick:n[9]||(n[9]=s=>e.switchDialogRegister()),rounded:"",flat:"",dense:"","no-wrap":"",class:"bg-primary text-white q-px-md q-ml-sm","no-caps":"",label:l.$t("register")},null,8,["label"])])),e.$initStore.setting.home.showLang?(a(),d(x,{key:2,round:"",dense:"",flat:"",color:"white",size:"16px",icon:"o_language",class:"q-mx-xs"},{default:o(()=>[t(e.switchLanguage,{offset:[0,20]})]),_:1})):w("",!0)])]),_:1})]),_:1}),t(B,{modelValue:e.loginShow,"onUpdate:modelValue":n[10]||(n[10]=s=>e.loginShow=s)},{default:o(()=>[t(e.LoginPages,{onSwitchDialogFunc:e.switchDialogFunc,onSwitchDialogLogin:e.switchDialogLogin})]),_:1},8,["modelValue"]),t(B,{modelValue:e.registerShow,"onUpdate:modelValue":n[11]||(n[11]=s=>e.registerShow=s)},{default:o(()=>[t(e.RegisterPages,{onSwitchDialogFunc:e.switchDialogFunc,onSwitchDialogRegister:e.switchDialogRegister})]),_:1},8,["modelValue"]),t(e.GlobalDialog,{ref:"logoutDialogRef",title:l.$t("logout"),message:l.$t("logoutSmall"),"on-confirm-callback":e.logoutFunc},null,8,["title","message"])],64)}const dt=K(me,[["render",Re],["__file","header.vue"]]);export{dt as default};
