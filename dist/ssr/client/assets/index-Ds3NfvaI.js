import{Q as p}from"./QImg-CJkXXEn1.js";import{n as A,J as Q,I as z,z as F,r as j,E as B,A as L,_ as D,s as l,t as d,B as s,y as t,v as o,Q as V,D as a,x as m,u as f,F as b,C as y,N as w,K as N,G as h,H as S,a0 as U,L as $,M as E,P as k,W as M,U as T}from"./index-BGPSJsC7.js";import{Q as g}from"./QChip-CT6uBV1b.js";import{Q as _}from"./QItemSection-DjBdyrEw.js";import{Q as q}from"./QItem-BgxCLujG.js";import{Q as H}from"./QItemLabel-D25JIdZz.js";import{Q as P}from"./QList-vmimMWGQ.js";import{u as G}from"./info-C2T9WIFR.js";import{n as J,p as K,s as O,f as R}from"./auth-BtS63POW.js";import"./info-B9Xb6Fua.js";const W=A({name:"UserIndex",__name:"index",setup(i,{expose:n}){n();const x=Q(),e=z(),C=F(),I=j(!1),{userInfo:r,userInfoFunc:u}=G();B(()=>{e.userToken!=""&&u()});const v={$router:x,$userStore:e,$initStore:C,dialog:I,userInfo:r,userInfoFunc:u,logoutFunc:()=>{e.updateToken(""),x.push({name:"HomeIndex"})},get imageSrc(){return L},get nowAuth(){return J},get pendingAuth(){return K},get successAuth(){return O},get failedAuth(){return R}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),X={class:"row justify-between no-wrap q-pt-xl q-px-md q-pb-lg bg-white"},Y={class:"row no-wrap"},Z={class:"col-9"},ee={class:"row justify-start items-center"},te=["textContent"],se=["textContent"],oe=["textContent"],ne={class:"row no-wrap items-center"},re=["textContent"],le={class:"bg-grey-1 q-px-md q-py-md full-width"},ie={class:"row items-center justify-between"},ae={key:0,class:"col-6"},de=["textContent"],ue=["textContent"],ce={class:"row justify-center q-mb-lg"},me={class:"row justify-center q-my-md"},fe={class:"text-weight-bold text-h6"},ge={class:"row justify-center q-mb-xl"},he={class:"text-grey-10"},_e={class:"row justify-between no-wrap"};function ve(i,n,x,e,C,I){return l(),d("div",null,[s("div",X,[s("div",Y,[t(V,{onClick:n[0]||(n[0]=r=>e.$router.push({name:"SettingsIndex"})),class:"q-mr-md avatar"},{default:o(()=>[t(p,{"no-spinner":"",src:e.imageSrc(e.userInfo.avatar??e.$initStore.config.logo),width:"50px",height:"50px"},null,8,["src"])]),_:1}),s("div",Z,[s("div",ee,[s("div",{class:"text-weight-bolder text-body1 q-mr-xs",textContent:a(e.userInfo.userName??"- -")},null,8,te),s("div",{class:"text-caption text-grey",textContent:a("(id: "+(e.userInfo.id??"- -")+")")},null,8,se)]),s("div",{class:"text-grey text-caption",textContent:a(e.userInfo.email==""?"- -":e.userInfo.email)},null,8,oe),s("div",ne,[e.userInfo.levelInfo.name!=""&&e.$initStore.setting.basic.showLevel?(l(),d("div",{key:0,onClick:n[1]||(n[1]=r=>e.$router.push({name:"UserLevelIndex"}))},[t(g,{class:"text-white justify-center",size:"sm",style:{background:"#322B19",border:"1px solid #F7DEB6"}},{default:o(()=>[s("span",{style:{color:"#F7DEB6"},textContent:a(i.$t("member")+" "+e.userInfo.levelInfo.name)},null,8,re)]),_:1})])):m("",!0),e.$initStore.setting.basic.showScore?(l(),f(g,{key:1,outline:"",class:"text-green bg-white",size:"sm"},{default:o(()=>[h(a(i.$t("creditScore")+e.userInfo.score),1)]),_:1})):m("",!0),e.$initStore.setting.basic.showAuth?(l(),d("div",{key:2,onClick:n[2]||(n[2]=r=>e.$router.push({name:"UserAuthIndex"}))},[e.userInfo.authInfo.status==e.nowAuth?(l(),f(g,{key:0,outline:"",class:"text-red bg-white",size:"sm"},{default:o(()=>[h(a(i.$t("nowAuth")),1)]),_:1})):e.userInfo.authInfo.status==e.pendingAuth?(l(),f(g,{key:1,outline:"",class:"bg-white text-info",size:"sm"},{default:o(()=>[h(a(i.$t("pendingAuth")),1)]),_:1})):e.userInfo.authInfo.status==e.successAuth?(l(),f(g,{key:2,outline:"",class:"text-green bg-white",size:"sm"},{default:o(()=>[h(a(i.$t("successAuth")),1)]),_:1})):m("",!0),e.userInfo.authInfo.status==e.failedAuth?(l(),f(g,{key:3,outline:"",class:"bg-white text-red",size:"sm"},{default:o(()=>[h(a(i.$t("failedAuth")),1)]),_:1})):m("",!0)])):m("",!0)])])]),s("div",{onClick:n[3]||(n[3]=r=>e.$router.push({name:"UserSetting"})),class:"row items-center"},[t(S,{name:"keyboard_arrow_right",size:"24px"})])]),s("div",le,[s("div",ie,[(l(!0),d(b,null,y(e.$initStore.menuList.more,(r,u)=>(l(),d(b,{key:u},[u<4?(l(),d("div",ae,[s("div",{class:U(u%2==0?"q-mr-xs":"q-ml-xs")},[t(w,{onClick:c=>e.$router.push(r.route),class:"bg-white rounded-borders full-width q-mb-sm","no-caps":"",unelevated:""},{default:o(()=>[t(q,{class:"no-padding"},{default:o(()=>[t(_,{avatar:""},{default:o(()=>[t(p,{"no-spinner":"",class:"q-mr-sm",src:e.imageSrc(r.icon),width:"42px",height:"42px"},null,8,["src"])]),_:2},1024),t(_,null,{default:o(()=>[s("div",{textContent:a(i.$t(r.name)),class:"ellipsis-2-lines"},null,8,de)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])],2)])):m("",!0)],64))),128))]),(l(!0),d(b,null,y(e.$initStore.menuList.setting,(r,u)=>(l(),f(P,{key:u,bordered:"",class:"q-mb-md rounded-borders no-border overflow-hidden"},{default:o(()=>[(l(!0),d(b,null,y(r.children,(c,v)=>(l(),d("div",{key:v,class:"bg-white"},[$(t(q,{onClick:be=>e.$router.push(c.route),class:"q-pa-md",clickable:""},{default:o(()=>[t(_,{avatar:"",class:"q-mr-sm",style:{"min-width":"0"}},{default:o(()=>[t(p,{"no-spinner":"",src:`${e.imageSrc(c.icon)}`,width:"24px",height:"24px"},null,8,["src"])]),_:2},1024),t(_,null,{default:o(()=>[t(H,{class:"text-weight-bold"},{default:o(()=>[s("div",{textContent:a(i.$t(c.name))},null,8,ue)]),_:2},1024)]),_:2},1024),t(_,{side:""},{default:o(()=>[t(S,{name:"keyboard_arrow_right",size:"24px"})]),_:1})]),_:2},1032,["onClick"]),[[E,c.isMobile==1]]),t(k,{style:{background:"#F4F5FD"},inset:""})]))),128))]),_:2},1024))),128)),t(w,{onClick:n[4]||(n[4]=r=>e.dialog=!0),class:"full-width q-mb-lg q-mt-md",size:"lg",unelevated:"",rounded:"","no-caps":"",color:"primary",label:i.$t("logout")},null,8,["label"])]),t(N,{"full-width":"",modelValue:e.dialog,"onUpdate:modelValue":n[6]||(n[6]=r=>e.dialog=r),position:"bottom"},{default:o(()=>[t(M,null,{default:o(()=>[t(T,null,{default:o(()=>[s("div",ce,[t(k,{class:"rounded-borders col-3",style:{height:"4px"},color:"grey-4"})]),s("div",me,[s("div",fe,a(i.$t("logout")),1)]),t(k,{class:"q-mt-md q-mb-lg",color:"grey-4"}),s("div",ge,[s("div",he,a(i.$t("logoutSmall")),1)]),s("div",_e,[t(w,{onClick:n[5]||(n[5]=r=>e.dialog=!1),size:"lg",class:"q-mr-md text-primary bg-white col-5",unelevated:"",rounded:"","no-caps":"",style:{border:"1px solid #31cbd2"},label:i.$t("cancel")},null,8,["label"]),t(w,{onClick:e.logoutFunc,size:"lg",class:"col-5",unelevated:"",rounded:"","no-caps":"",color:"primary",label:i.$t("logout")},null,8,["label"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Qe=D(W,[["render",ve],["__file","index.vue"]]);export{Qe as default};
