import{s as v,Q as P}from"./switchLanguage-izXMCfaU.js";import{Q as i}from"./QImg-QNFGeKBr.js";import{n as V,z as k,I as C,E as q,A as L,_ as Q,s as l,t as y,y as s,v as r,B as a,D as m,u as p,x as d,N as S,O as c,H as I}from"./index-BkcOOe94.js";import{Q as B,a as F}from"./QHeader-CryE7R9N.js";import{Q as T}from"./QForm-Dkbl41NA.js";import{u as U}from"./index-DmK5utjC.js";import{o as z}from"./online-B9U9lrUx.js";import"./QItemSection-Dqa7iTHf.js";import"./QItem-CH6F1sXM.js";import"./QList-CDjj9Jd_.js";import"./QMenu-DLKEG6T_.js";import"./selection-DMuMQtZs.js";import"./ClosePopup-DC36HKiI.js";import"./QResizeObserver-ReeZP_rW.js";const R=V({name:"UserLogin",__name:"login",setup(t,{expose:o}){o();const g=k(),e=C(),{loginParams:u,showTextPassword:h,baseURL:n,onlineInfo:_,refreshCaptchaFunc:f,userLoginFunc:b,onlineInfoFunc:w}=U();q(()=>{f(),w()});const x={$initStore:g,$userStore:e,loginParams:u,showTextPassword:h,baseURL:n,onlineInfo:_,refreshCaptchaFunc:f,userLoginFunc:b,onlineInfoFunc:w,switchLanguage:v,onlineComponents:z,get imageSrc(){return L}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),N={class:"row justify-center"},j={class:"row justify-center q-mx-md"},O={class:"text-weight-bold text-h6 text-center"},D=a("div",{style:{"margin-top":"80px"}},null,-1),E={class:"text-right q-mb-lg"},H=["href"],A={key:1,class:"text-center text-primary q-mb-xl cursor-pointer"};function M(t,o,g,e,u,h){return l(),y("div",null,[s(B,{class:"bg-white"},{default:r(()=>[s(F,null,{default:r(()=>[s(P),e.$initStore.setting.login.showLang?(l(),p(S,{key:0,class:"text-grey-8",rounded:"","no-caps":"",flat:""},{default:r(()=>[s(i,{"no-spinner":"",width:"24px",height:"24px",class:"q-mr-sm",src:e.imageSrc(e.$initStore.langList.find(n=>n.symbol==e.$userStore.userLang).icon)},null,8,["src"]),a("div",null,m(e.$initStore.langList.find(n=>n.symbol==e.$userStore.userLang).name),1),s(e.switchLanguage)]),_:1})):d("",!0)]),_:1})]),_:1}),a("div",null,[a("div",N,[s(i,{"no-spinner":"",class:"q-mt-lg q-mb-md",width:"70px",height:"70px",src:e.imageSrc(e.$initStore.config.logo)},null,8,["src"])]),a("div",j,[a("div",O,m(t.$t("loginSmall")),1)]),D,s(T,{class:"q-mt-lg q-px-lg"},{default:r(()=>[s(c,{class:"q-mb-md",outlined:"",modelValue:e.loginParams.username,"onUpdate:modelValue":o[0]||(o[0]=n=>e.loginParams.username=n),"input-style":{fontSize:"16px",color:"#999999!important"},placeholder:t.$t("username")},{prepend:r(()=>[s(i,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/username.png"})]),_:1},8,["modelValue","placeholder"]),s(c,{class:"q-mb-md",modelValue:e.loginParams.password,"onUpdate:modelValue":o[2]||(o[2]=n=>e.loginParams.password=n),outlined:"","input-style":{fontSize:"16px",color:"#999999!important"},type:e.showTextPassword.password?"text":"password",placeholder:t.$t("password")},{prepend:r(()=>[s(i,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/password.png"})]),append:r(()=>[s(I,{style:{color:"#999999"},name:e.showTextPassword.password?"visibility":"visibility_off",class:"cursor-pointer",onClick:o[1]||(o[1]=n=>e.showTextPassword.password=!e.showTextPassword.password)},null,8,["name"])]),_:1},8,["modelValue","type","placeholder"]),e.$initStore.setting.login.showVerify?(l(),p(c,{key:0,"input-style":{fontSize:"16px",color:"#999999!important"},class:"q-mb-sm",outlined:"",modelValue:e.loginParams.captchaVal,"onUpdate:modelValue":o[3]||(o[3]=n=>e.loginParams.captchaVal=n),placeholder:t.$t("code")},{prepend:r(()=>[s(i,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/code.png"})]),append:r(()=>[e.loginParams.captchaId!==""?(l(),p(i,{key:0,"no-spinner":"",src:e.baseURL+"/captcha/"+e.loginParams.captchaId+"/150-50",width:"150px",height:"50px",onClick:e.refreshCaptchaFunc},null,8,["src","onClick"])):d("",!0)]),_:1},8,["modelValue","placeholder"])):d("",!0),a("div",E,[a("a",{href:e.onlineInfo.link,class:"text-grey-7 cursor-pointer"},m(t.$t("forgotPassword")),9,H)]),s(S,{onClick:o[4]||(o[4]=n=>e.userLoginFunc()),class:"full-width q-mb-lg",unelevated:"",rounded:"","no-caps":"",size:"lg",color:"primary",label:t.$t("login")},null,8,["label"]),e.$initStore.setting.login.showRegister?(l(),y("div",A,[a("span",{onClick:o[5]||(o[5]=n=>t.$router.push({name:"Register"}))},m(t.$t("toRegister")),1)])):d("",!0)]),_:1}),e.$initStore.setting.home.showOnline?(l(),p(e.onlineComponents,{key:0})):d("",!0)])])}const ae=Q(R,[["render",M],["__file","login.vue"]]);export{ae as default};
