import{Q as p}from"./QImg-CJkXXEn1.js";import{n as S,E as F,aJ as L,A as B,_ as M,s as o,t as r,B as t,D as n,F as _,C as h,x as c,G as q,y as i,v as u,O as x,N,Z as T,u as v,H as w,W as U}from"./index-BGPSJsC7.js";import{u as j,Q as z}from"./uploader-BPqUDd3E.js";import{d as A}from"./deposit-D6vACgRz.js";import{b as C}from"./order-s6Q6N0oh.js";import{g as E}from"./account-hQxYRMn-.js";import"./format-DyQxkAtJ.js";import"./index-bgOLeZpZ.js";import"./copy-to-clipboard-BYNBMLAc.js";import"./index.min-DAI2r0rk.js";const O=S({name:"WalletsDeposit",__name:"deposit",emits:["update"],setup(a,{expose:m,emit:g}){m();const{mode:e,createParams:b,paymentList:k,currentPayment:s,currentQrcode:d,walletsPaymentListFunc:l,switchPayment:D,createDepositFunc:V,copyFunc:Q}=A();F(()=>{l()});const y=L(),f=g;f("update",{title:e.value==C?y.t("deposit"):y.t("assetsDeposit"),right:{callback:()=>{},icon:""}});const P={mode:e,createParams:b,paymentList:k,currentPayment:s,currentQrcode:d,walletsPaymentListFunc:l,switchPayment:D,createDepositFunc:V,copyFunc:Q,$i18n:y,emit:f,get balanceDepositMode(){return C},get cardType1(){return E},uploader:j,get imageSrc(){return B}};return Object.defineProperty(P,"__isScriptSetup",{enumerable:!1,value:!0}),P}}),W={class:"q-pa-md"},G={class:"text-body2 q-mb-sm"},H={class:"row q-col-gutter-sm"},I=["onClick"],J={style:{width:"32px"}},R={style:{width:"calc(100% - 35px)"},class:"q-ml-sm self-center ellipsis"},X={key:0},Z={key:0,class:"q-pa-md bg-grey-2 rounded-borders q-mt-md"},K={style:{"border-bottom":"1px dashed #ddd"},class:"q-pb-sm text-body2"},Y={key:0,class:"row justify-between q-mt-md"},$=["textContent"],ee=["onClick"],te={key:1,class:"column items-center q-mt-lg"},se={class:"column q-gutter-sm full-width"},oe={class:"q-my-md text-center"},re={class:"text-center q-my-xs"},ne=["src"],ae={key:0},ie={class:"column full-width q-mt-md"},de={class:"q-my-sm"},le={class:"q-mb-sm"},ce={key:0},me={key:0,class:"column"},ue={class:"text-caption"},ye={key:0,class:"q-my-sm"},pe={class:"q-mb-xs"},_e={class:"column items-center justify-center",style:{height:"150px",border:"grey 1px dashed"}},he={class:"q-mt-lg q-mb-md text-grey"};function ve(a,m,g,e,b,k){return o(),r("div",W,[t("div",G,n(e.mode==e.balanceDepositMode?a.$t("deposit"):a.$t("assetsDeposit")),1),t("div",H,[(o(!0),r(_,null,h(e.paymentList,(s,d)=>(o(),r("div",{key:d,class:"col-6"},[t("div",{style:T({width:"100%",height:"50px",borderRadius:"8px",border:s.id===e.currentPayment.id?"1px solid #31cbd2":""}),class:"q-pa-sm row no-wrap justify-center cursor-pointer relative-position bg-grey-2",onClick:l=>e.switchPayment(s)},[t("div",J,[i(p,{"no-spinner":"",src:e.imageSrc(s.icon),width:"32px",height:"32px"},null,8,["src"])]),t("div",R,n(s.name),1),s.id===e.currentPayment.id?(o(),v(p,{key:0,"no-spinner":"",class:"absolute",src:"/src/assets/default/select.png",width:"30PX",height:"30px",style:{bottom:"0",right:"0"}})):c("",!0)],12,I)]))),128))]),e.currentPayment?(o(),r("div",X,[e.currentPayment.type==e.cardType1?(o(),r("div",Z,[t("div",K,n(a.$t("accountInfo")),1),(o(!0),r(_,null,h(e.currentPayment.data,(s,d)=>(o(),r("div",{key:d},[s.isShow?(o(),r("div",Y,[t("div",{textContent:n(s.value),class:"text-body1"},null,8,$),t("div",{onClick:l=>e.copyFunc(s.value),class:"text-green"},n(a.$t("copy")),9,ee)])):c("",!0)]))),128))])):(o(),r("div",te,[t("div",se,[t("div",oe,[t("div",re,n(a.$t("addressInfo")),1),t("img",{src:e.currentQrcode,alt:""},null,8,ne)]),(o(!0),r(_,null,h(e.currentPayment.data,(s,d)=>(o(),r("div",{key:d},[s.isShow?(o(),r("div",ae,[i(x,{outlined:"",modelValue:s.value,"onUpdate:modelValue":l=>s.value=l,readonly:""},{append:u(()=>[i(w,{name:"content_copy",class:"cursor-pointer",size:"xs",onClick:l=>e.copyFunc(s.value)},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue"])])):c("",!0)]))),128))])]))])):c("",!0),t("div",ie,[t("div",de,[t("div",le,[q(n(a.$t("money"))+" ",1),e.paymentList.length>0&&e.mode==e.balanceDepositMode?(o(),r("span",ce," 1"+n(e.currentPayment.name)+" ≈ "+n(a.$t("currency"))+n(e.currentPayment.rate),1)):c("",!0)]),i(x,{type:"number",placeholder:a.$t("money"),outlined:"",modelValue:e.createParams.money,"onUpdate:modelValue":m[0]||(m[0]=s=>e.createParams.money=s)},{append:u(()=>[e.paymentList.length>0&&e.mode==e.balanceDepositMode?(o(),r("div",me,[t("div",ue,[q(" ≈ "),t("span",null,n(a.$t("currency"))+n((e.currentPayment.rate*(e.createParams.money??0)).toFixed(2)),1)])])):c("",!0)]),_:1},8,["placeholder","modelValue"])]),e.paymentList.length>0&&e.currentPayment.isVoucher==1?(o(),r("div",ye,[t("div",pe,n(a.$t("proof")),1),t("div",null,[i(e.uploader,{onUploaded:m[1]||(m[1]=s=>{e.createParams.voucher=s})},{default:u(()=>[i(z),i(U,{flat:""},{default:u(()=>[t("div",_e,[e.createParams.voucher==""?(o(),v(w,{key:0,name:"add",color:"grey",size:"30px"})):(o(),v(p,{key:1,"no-spinner":"",src:e.imageSrc(e.createParams.voucher)},null,8,["src"]))])]),_:1})]),_:1})])])):c("",!0),t("div",he,[t("div",null,n(a.$t("depositDesc")),1)]),i(N,{unelevated:"",rounded:"",color:"primary",label:a.$t("submit"),class:"q-my-md","no-caps":"",onClick:e.createDepositFunc,size:"lg"},null,8,["label","onClick"])])])}const Ve=M(O,[["render",ve],["__file","deposit.vue"]]);export{Ve as default};
