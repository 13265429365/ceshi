import{Q as i}from"./QImg-D2kCY975.js";import{n as P,z as V,E as v,_ as C,s as l,u as c,v as a,W as k,y as n,B as r,D as d,O as m,H as S,x as g,N as I,t as Q,U as F}from"./index-BAN5Iapo.js";import{Q as L}from"./QForm-zTtjdAwz.js";import{u as R}from"./index-CvQOyMs9.js";const U=P({name:"UserLogin",__name:"login",emits:["switchDialogFunc","switchDialogLogin"],setup(s,{expose:o,emit:u}){o();const e=V(),p=u,{loginParams:h,showTextPassword:t,baseURL:y,onlineInfo:b,refreshCaptchaFunc:w,userLoginFunc:_,onlineInfoFunc:f}=R();v(()=>{w(),f()});const x={$initStore:e,emit:p,loginParams:h,showTextPassword:t,baseURL:y,onlineInfo:b,refreshCaptchaFunc:w,userLoginFunc:_,onlineInfoFunc:f,toRegister:()=>{p("switchDialogFunc")}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),q={class:"text-center text-weight-bold text-primary text-h4"},B={class:"text-center text-body1 text-weight-regular q-mt-sm text-grey"},D={class:"row justify-end q-mb-lg"},T=["href"],z={class:"text-grey-7 cursor-pointer"};function N(s,o,u,e,p,h){return l(),c(k,{style:{width:"410px"}},{default:a(()=>[n(F,{class:"q-pa-lg"},{default:a(()=>[r("div",q,d(s.$t("login")),1),r("div",B,d(s.$t("loginSmall")),1),n(L,{class:"q-mt-xl q-gutter-sm"},{default:a(()=>[n(m,{"input-style":{fontSize:"16px"},outlined:"",modelValue:e.loginParams.username,"onUpdate:modelValue":o[0]||(o[0]=t=>e.loginParams.username=t),label:s.$t("username")},{prepend:a(()=>[n(i,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/username.png"})]),_:1},8,["modelValue","label"]),n(m,{"input-style":{fontSize:"16px"},outlined:"",modelValue:e.loginParams.password,"onUpdate:modelValue":o[2]||(o[2]=t=>e.loginParams.password=t),type:e.showTextPassword.password?"text":"password",label:s.$t("password")},{prepend:a(()=>[n(i,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/password.png"})]),append:a(()=>[n(S,{style:{color:"#999999"},name:e.showTextPassword.password?"visibility":"visibility_off",class:"cursor-pointer",onClick:o[1]||(o[1]=t=>e.showTextPassword.password=!e.showTextPassword.password)},null,8,["name"])]),_:1},8,["modelValue","type","label"]),e.$initStore.setting.login.showVerify?(l(),c(m,{key:0,"input-style":{fontSize:"16px"},outlined:"",modelValue:e.loginParams.captchaVal,"onUpdate:modelValue":o[3]||(o[3]=t=>e.loginParams.captchaVal=t),label:s.$t("code")},{prepend:a(()=>[n(i,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/code.png"})]),append:a(()=>[e.loginParams.captchaId!==""?(l(),c(i,{key:0,"no-spinner":"",src:e.baseURL+"/captcha/"+e.loginParams.captchaId+"/150-50",width:"150px",height:"50px",onClick:e.refreshCaptchaFunc,class:"cursor-pointer"},null,8,["src","onClick"])):g("",!0)]),_:1},8,["modelValue","label"])):g("",!0),r("div",D,[r("a",{href:e.onlineInfo.link,style:{"text-decoration":"none"}},[r("div",z,d(s.$t("forgotPassword")),1)],8,T)]),n(I,{onClick:o[4]||(o[4]=t=>{e.userLoginFunc(),e.emit("switchDialogLogin")}),class:"full-width",unelevated:"",rounded:"","no-caps":"",style:{height:"44px"},color:"primary",label:s.$t("login")},null,8,["label"]),e.$initStore.setting.login.showRegister?(l(),Q("div",{key:1,onClick:o[5]||(o[5]=t=>e.toRegister()),class:"text-center text-primary q-mb-sm cursor-pointer"},d(s.$t("toRegister")),1)):g("",!0)]),_:1})]),_:1})]),_:1})}const W=C(U,[["render",N],["__file","login.vue"]]);export{W as default};
