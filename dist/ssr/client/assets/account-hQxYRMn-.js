import{aF as a,z as f,J as v,aJ as I,r as y,k as F,b1 as R,b2 as u}from"./index-BGPSJsC7.js";const M=t=>a.post("/auth/wallets/account/index",t,{showLoading:!0}),q=t=>a.post("/auth/wallets/account/info",t,{showLoading:!0}),x=t=>a.post("/auth/wallets/account/create",t,{showLoading:!0}),C=t=>a.post("/auth/wallets/account/update",t,{showLoading:!0}),D=t=>a.post("/auth/wallets/account/delete",t,{showLoading:!0}),N=t=>a.post("/auth/wallets/account/payment",t,{showLoading:!0}),r=1,h=2,i=11,$=12,S=1,W=11,B=new Map([[S,{background:"linear-gradient(90deg, #4CB8C4 0%, #3CD3AD 100%)",height:"145px",borderRadius:"8px"}],[W,{background:"linear-gradient(90deg, #7474BF 0%, #348AC7 100%)",height:"145px",borderRadius:"8px"}]]),J=()=>{const t=f(),n=v(),o=I(),w=y(null),c=y(null),e=F({mode:n.currentRoute.value.query.mode?Number(n.currentRoute.value.query.mode):r,accountList:[],currentAccountInfo:{},deleteParams:{},id:n.currentRoute.value.query.id?Number(n.currentRoute.value.query.id):0,paymentMode:n.currentRoute.value.query.mode?Number(n.currentRoute.value.query.mode):i,paymentList:[],currentPayment:{},createParams:{}}),d=async()=>{await M({mode:e.mode}).then(s=>{e.accountList=s})},l=()=>{e.deleteParams.id=Number(e.currentAccountInfo.id),D(e.deleteParams).then(async()=>{u("positive",o.t("success")),c.value?.hideFunc(),await d()})},g=()=>{t.setting.wallets.showAccountSecurityKey?c.value?.openFunc():l()},A=()=>{N({mode:e.paymentMode}).then(s=>{e.paymentList=s,e.id?q({id:e.id}).then(p=>{e.createParams=p,e.currentPayment=e.paymentList.find(b=>b.id==p.paymentId)}):e.currentPayment=e.paymentList[0]})},P=()=>{e.createParams.paymentId=e.currentPayment.id,e.id?(console.log(222),t.setting.wallets.showAccountSecurityKey?c.value?.openFunc():m()):(L(),console.log(123))},L=()=>{x(e.createParams).then(()=>{u("positive",o.t("success")),n.replace({name:"WalletsAccountIndex",query:{mode:e.paymentMode==i?r:h}})})},m=()=>{C(e.createParams).then(()=>{u("positive",o.t("success")),n.replace({name:"WalletsAccountIndex",query:{mode:e.paymentMode==i?r:h}})})};return{deleteDialogRef:w,securityDialogRef:c,...R(e),accountListFunc:d,deleteAccountFunc:g,submitDeleteFunc:l,walletsPaymentListFunc:A,submitFunc:P,updateAccountFunc:m}};export{J as a,$ as b,h as c,i as d,r as e,B as f,S as g,W as h,N as w};
