import{c as O,g as Q,i as U,e as L,l as D,a as d,h as p,b as V,p as T,d as x,r as h,f as I,j as S,k as b,w as A,o as G,m as J,n as X,_ as Y,q as Z,s as a,t as ee,u as n,v as k,x as f,F as te,y as P}from"./index-BGPSJsC7.js";import{Q as oe}from"./QScrollObserver-CpeoiRk-.js";import{Q as _}from"./QResizeObserver-Eb98_mTk.js";import re from"./header-CmJr3Y5L.js";import ie from"./footer-BoNGjf_S.js";import ae from"./drawer-left-B4M3CP6I.js";import ne from"./drawer-right-C-rjmTX8.js";import le from"./header-m16HBvEB.js";import se from"./footer-DIrBc-Bn.js";import ue from"./drawer-left-xgdRzcbT.js";import ce from"./drawer-right-9CKdgzRq.js";import"./QToolbarTitle-CaR3vBDv.js";import"./QImg-CJkXXEn1.js";import"./QItemSection-DjBdyrEw.js";import"./QItem-BgxCLujG.js";import"./QList-vmimMWGQ.js";import"./QBtnDropdown-OeLWNXA6.js";import"./QMenu-hyI2yrqa.js";import"./selection-BVWR9-QK.js";import"./switchLanguage-B5IRNFxd.js";import"./ClosePopup-DGQiK8gb.js";import"./QChip-CT6uBV1b.js";import"./QHeader-BhJUDJeu.js";import"./info-C2T9WIFR.js";import"./info-B9Xb6Fua.js";import"./login-B5UWCc8H.js";import"./QForm-ihRHcMfV.js";import"./index-CJ3cmIR_.js";import"./register-rSyyZ5oI.js";import"./QItemLabel-D25JIdZz.js";import"./QSelect-DStFKppY.js";import"./format-DyQxkAtJ.js";import"./dialog-BXyUkmqR.js";import"./auth-BtS63POW.js";import"./order-s6Q6N0oh.js";import"./QFooter-Dwsruh4u.js";import"./home-BRPhpfSH.js";import"./QExpansionItem-BRan1x5n.js";import"./QDrawer-BPPmD2fK.js";import"./TouchPan-B1K5NlI7.js";import"./QTabs-B_pjSLwF.js";const q=O({name:"QPageContainer",setup(e,{slots:v}){const{proxy:{$q:l}}=Q(),t=U(D,L);if(t===L)return console.error("QPageContainer needs to be child of QLayout"),L;T(x,!0);const u=d(()=>{const r={};return t.header.space===!0&&(r.paddingTop=`${t.header.size}px`),t.right.space===!0&&(r[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(r.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(r[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),r});return()=>p("div",{class:"q-page-container",style:u.value},V(v.default))}}),F=O({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:v,emit:l}){const{proxy:{$q:t}}=Q(),u=h(null),r=h(t.screen.height),g=h(e.container===!0?0:t.screen.width),R=h({position:0,direction:"down",inflectionPoint:0}),y=h(0),c=h(I.value===!0?0:S()),B=d(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),W=d(()=>e.container===!1?{minHeight:t.screen.height+"px"}:null),j=d(()=>c.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${c.value}px`}:null),E=d(()=>c.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${c.value}px`,width:`calc(100% + ${c.value}px)`}:null);function K(o){if(e.container===!0||document.qScrollPrevented!==!0){const i={position:o.position.top,direction:o.direction,directionChanged:o.directionChanged,inflectionPoint:o.inflectionPoint.top,delta:o.delta.top};R.value=i,e.onScroll!==void 0&&l("scroll",i)}}function M(o){const{height:i,width:m}=o;let s=!1;r.value!==i&&(s=!0,r.value=i,e.onScrollHeight!==void 0&&l("scrollHeight",i),z()),g.value!==m&&(s=!0,g.value=m),s===!0&&e.onResize!==void 0&&l("resize",o)}function N({height:o}){y.value!==o&&(y.value=o,z())}function z(){if(e.container===!0){const o=r.value>y.value?S():0;c.value!==o&&(c.value=o)}}let w=null;const C={instances:{},view:d(()=>e.view),isContainer:d(()=>e.container),rootRef:u,height:r,containerHeight:y,scrollbarWidth:c,totalWidth:d(()=>g.value+c.value),rows:d(()=>{const o=e.view.toLowerCase().split(" ");return{top:o[0].split(""),middle:o[1].split(""),bottom:o[2].split("")}}),header:b({size:0,offset:0,space:!1}),right:b({size:300,offset:0,space:!1}),footer:b({size:0,offset:0,space:!1}),left:b({size:300,offset:0,space:!1}),scroll:R,animate(){w!==null?clearTimeout(w):document.body.classList.add("q-body--layout-animate"),w=setTimeout(()=>{w=null,document.body.classList.remove("q-body--layout-animate")},155)},update(o,i,m){C[o][i]=m}};if(T(D,C),S()>0){let o=function(){s=null,$.classList.remove("hide-scrollbar")},i=function(){if(s===null){if($.scrollHeight>t.screen.height)return;$.classList.add("hide-scrollbar")}else clearTimeout(s);s=setTimeout(o,300)},m=function(H){s!==null&&H==="remove"&&(clearTimeout(s),o()),window[`${H}EventListener`]("resize",i)},s=null;const $=document.body;A(()=>e.container!==!0?"add":"remove",m),e.container!==!0&&m("add"),G(()=>{m("remove")})}return()=>{const o=J(v.default,[p(oe,{onScroll:K}),p(_,{onResize:M})]),i=p("div",{class:B.value,style:W.value,ref:e.container===!0?void 0:u,tabindex:-1},o);return e.container===!0?p("div",{class:"q-layout-container overflow-hidden",ref:u},[p(_,{onResize:N}),p("div",{class:"absolute-full",style:j.value},[p("div",{class:"scroll",style:E.value},[i])])]):i}}}),de=X({name:"MainLayout",__name:"main",setup(e,{expose:v}){v();const l=h({left:{callback:()=>{},icon:"arrow_back"},title:"",right:{callback:()=>{},icon:""}}),u={content:l,update:r=>{Object.assign(l.value,r)},desktopHeader:re,desktopFooter:ie,desktopDrawerLeft:ae,desktopDrawerRight:ne,mobileHeader:le,mobileFooter:se,mobileDrawerLeft:ue,mobileDrawerRight:ce};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}});function me(e,v,l,t,u,r){const g=Z("router-view");return a(),ee(te,null,[e.$q.platform.is.desktop?(a(),n(F,{key:0,view:"hHh lpr fff"},{default:k(()=>[(a(),n(t.desktopHeader,{key:e.$route.fullPath})),e.$route.meta.hasOwnProperty("drawerLeft")&&e.$route.meta.drawerLeft?(a(),n(t.desktopDrawerLeft,{key:0})):f("",!0),e.$route.meta.hasOwnProperty("drawerRight")&&e.$route.meta.drawerRight?(a(),n(t.desktopDrawerRight,{key:1})):f("",!0),P(q,null,{default:k(()=>[(a(),n(g,{key:e.$route.fullPath,style:{"min-height":"1000px"}}))]),_:1}),P(t.desktopFooter)]),_:1})):f("",!0),e.$q.platform.is.mobile?(a(),n(F,{key:1,view:"hHh lpr fff"},{default:k(()=>[e.$route.meta.hasOwnProperty("header")&&e.$route.meta.header?(a(),n(t.mobileHeader,{key:0,content:t.content},null,8,["content"])):f("",!0),e.$route.meta.hasOwnProperty("drawerLeft")&&e.$route.meta.drawerLeft?(a(),n(t.mobileDrawerLeft,{key:1})):f("",!0),e.$route.meta.hasOwnProperty("drawerRight")&&e.$route.meta.drawerRight?(a(),n(t.mobileDrawerRight,{key:2})):f("",!0),P(q,null,{default:k(()=>[(a(),n(g,{onUpdate:t.update,key:e.$route.fullPath}))]),_:1}),e.$route.meta.hasOwnProperty("footer")&&e.$route.meta.footer?(a(),n(t.mobileFooter,{key:3})):f("",!0)]),_:1})):f("",!0)],64)}const et=Y(de,[["render",me],["__file","main.vue"]]);export{et as default};
