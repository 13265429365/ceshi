import{defineComponent as D,onMounted as K,useSSRContext as Q,resolveComponent as V,getCurrentInstance as G,h as X,markRaw as Y,createApp as Z,unref as ee}from"vue";import{LocalStorage as A,Cookies as b,Notify as M,Loading as v,QSpinnerBars as te,useMeta as re,Platform as se,Quasar as oe,Dialog as ae,Meta as ne}from"quasar";import{defineStore as C,createPinia as ue}from"pinia";import T from"axios";import{createRouter as ie,createMemoryHistory as le,useRouter as ce}from"vue-router";import{route as pe,boot as H,store as me}from"quasar/wrappers";import{createI18n as de,useI18n as he}from"vue-i18n/dist/vue-i18n.runtime.node.mjs";import{ssrRenderComponent as fe}from"vue/server-renderer";const ge={domainStatus:"",config:{name:"BaJie",logo:"",template:"default"},setting:{register:{showCmfPass:!0,showSecurityKey:!1,showCmfSecurityKey:!1,showEmail:!1,showInvite:!1,showLang:!1,showTelephone:!1,showVerify:!0,showOnline:!0},login:{showLang:!1,showOnline:!0,showRegister:!0,showVerify:!0},wallets:{showAccountDelete:!0,showAccountNumber:!0,showAccountSecurityKey:!0,showAccountUpdate:!0,showTransferSecurityKey:!1,showConvertSecurityKey:!1},home:{showLang:!0,showOnline:!0},basic:{showScore:!1,showLevel:!1,showAuth:!1},auth:{showRealName:!0,showNumber:!0,showPhoto2:!0,showPhoto3:!0,showAddress:!0}},countryList:[],langList:[],translate:[],menuList:{more:[],navigation:[],setting:[]}},S=C("init",{state:()=>ge,actions:{updateTranslate(e){this.translate=e}}}),I="_userLang",R="_userToken",y="_userInfo";A.getItem(y);const k=C("user",{state:()=>({userLang:"",userToken:"",userInfo:{}}),actions:{updateLang(e){this.userLang=e,b.set(I,e,{path:"/"})},updateToken(e){this.userToken=e,b.set(R,e,{path:"/"})},updateUserInfo(e){this.userInfo=e,A.set(y,JSON.stringify(e))}}}),ve=e=>{const r=S();return(e==""||e==null)&&(e=r.config.logo==""?"/logo.png":r.config.logo),new URL("https://api.ainn.us").origin+e},j="HomeIndex",P="Login",z="Register",N=Object.assign(Object.assign({"/src/layouts/desktop/drawer-left.vue":()=>import("./assets/drawer-left-CGafRayz.js"),"/src/layouts/desktop/drawer-right.vue":()=>import("./assets/drawer-right-BtkNXTz1.js"),"/src/layouts/desktop/footer.vue":()=>import("./assets/footer-DA2_kngG.js"),"/src/layouts/desktop/header.vue":()=>import("./assets/header-zcHd_nbn.js"),"/src/layouts/main.vue":()=>import("./assets/main-CLvTbs3M.js"),"/src/layouts/mobile/drawer-left.vue":()=>import("./assets/drawer-left-DGTnl55w.js"),"/src/layouts/mobile/drawer-right.vue":()=>import("./assets/drawer-right-CUyUCJCx.js"),"/src/layouts/mobile/footer.vue":()=>import("./assets/footer-CO8MR2fL.js"),"/src/layouts/mobile/header.vue":()=>import("./assets/header-CpMKjQ0X.js")}),Object.assign({"/src/pages/404.vue":()=>import("./assets/404-yNUwoHkN.js"),"/src/pages/default/desktop/article/index.vue":()=>import("./assets/index-1YJClL2S.js"),"/src/pages/default/desktop/download.vue":()=>import("./assets/download-D1380gRi.js"),"/src/pages/default/desktop/helpers.vue":()=>import("./assets/helpers-BtQPkOMn.js"),"/src/pages/default/desktop/home.vue":()=>import("./assets/home-DURiqKsq.js"),"/src/pages/default/desktop/login.vue":()=>import("./assets/login-BTobGGH8.js"),"/src/pages/default/desktop/product/contract.vue":()=>import("./assets/contract-C1lUBiH_.js"),"/src/pages/default/desktop/product/futures.vue":()=>import("./assets/futures-squiLAu0.js"),"/src/pages/default/desktop/product/markets.vue":()=>import("./assets/markets-1rj2SorG.js"),"/src/pages/default/desktop/register.vue":()=>import("./assets/register-Cmb7T76Q.js"),"/src/pages/default/desktop/users/auth.vue":()=>import("./assets/auth-DWMyRdUX.js"),"/src/pages/default/desktop/users/level.vue":()=>import("./assets/level-BhyI4Mm9.js"),"/src/pages/default/desktop/users/setting/index.vue":()=>import("./assets/index-DL8NbXct.js"),"/src/pages/default/desktop/users/team/details.vue":()=>import("./assets/details-uyHy1Slf.js"),"/src/pages/default/desktop/users/team/index.vue":()=>import("./assets/index-C1uUsWwk.js"),"/src/pages/default/desktop/users/team/invite.vue":()=>import("./assets/invite-sCEoUGaJ.js"),"/src/pages/default/desktop/wallets/account/index.vue":()=>import("./assets/index-DjjzvjeM.js"),"/src/pages/default/desktop/wallets/account/update.vue":()=>import("./assets/update-B9cNjiKR.js"),"/src/pages/default/desktop/wallets/assets/details.vue":()=>import("./assets/details-BnyWY0lK.js"),"/src/pages/default/desktop/wallets/assets/index.vue":()=>import("./assets/index-SHZGfjkw.js"),"/src/pages/default/desktop/wallets/bill.vue":()=>import("./assets/bill-BvCpXOPq.js"),"/src/pages/default/desktop/wallets/convert/create.vue":()=>import("./assets/create-546pw7cJ.js"),"/src/pages/default/desktop/wallets/convert/index.vue":()=>import("./assets/index-C29ceAH9.js"),"/src/pages/default/desktop/wallets/deposit.vue":()=>import("./assets/deposit-XoG2B2j9.js"),"/src/pages/default/desktop/wallets/index.vue":()=>import("./assets/index-Bp0PX179.js"),"/src/pages/default/desktop/wallets/transfer/create.vue":()=>import("./assets/create-ORWHFCNX.js"),"/src/pages/default/desktop/wallets/transfer/index.vue":()=>import("./assets/index-BoQvxYDI.js"),"/src/pages/default/desktop/wallets/withdraw.vue":()=>import("./assets/withdraw-qp3onGfO.js"),"/src/pages/default/mobile/article/index.vue":()=>import("./assets/index-CseGrZVh.js"),"/src/pages/default/mobile/download.vue":()=>import("./assets/download-DK2U2LlX.js"),"/src/pages/default/mobile/helpers.vue":()=>import("./assets/helpers-DVgU1c_G.js"),"/src/pages/default/mobile/home.vue":()=>import("./assets/home-DlPsDGOO.js"),"/src/pages/default/mobile/lang.vue":()=>import("./assets/lang-Hbhbhd2J.js"),"/src/pages/default/mobile/login.vue":()=>import("./assets/login-Bstjpkic.js"),"/src/pages/default/mobile/product/contract.vue":()=>import("./assets/contract-DUcfeE2K.js"),"/src/pages/default/mobile/product/futures.vue":()=>import("./assets/futures-BpX7AG1P.js"),"/src/pages/default/mobile/product/markets.vue":()=>import("./assets/markets-fJ8w-IBP.js"),"/src/pages/default/mobile/register.vue":()=>import("./assets/register-BlxaUtAz.js"),"/src/pages/default/mobile/users/auth.vue":()=>import("./assets/auth-DxSjXUbC.js"),"/src/pages/default/mobile/users/index.vue":()=>import("./assets/index-OJ8U5kbb.js"),"/src/pages/default/mobile/users/level.vue":()=>import("./assets/level-DYsVLsZm.js"),"/src/pages/default/mobile/users/setting/index.vue":()=>import("./assets/index-DHEMV-Y6.js"),"/src/pages/default/mobile/users/setting/info.vue":()=>import("./assets/info-Cq8xXP0x.js"),"/src/pages/default/mobile/users/setting/password.vue":()=>import("./assets/password-DbnGZPKO.js"),"/src/pages/default/mobile/users/setting/secretKey.vue":()=>import("./assets/secretKey-CL964Yj0.js"),"/src/pages/default/mobile/users/team/details.vue":()=>import("./assets/details-Cauvcqtc.js"),"/src/pages/default/mobile/users/team/index.vue":()=>import("./assets/index-DU3iTRg8.js"),"/src/pages/default/mobile/users/team/invite.vue":()=>import("./assets/invite-DsfvUWd_.js"),"/src/pages/default/mobile/wallets/account/index.vue":()=>import("./assets/index-BDLdnp-x.js"),"/src/pages/default/mobile/wallets/account/update.vue":()=>import("./assets/update-B1ud9bVP.js"),"/src/pages/default/mobile/wallets/assets/details.vue":()=>import("./assets/details-Cg-BmKNW.js"),"/src/pages/default/mobile/wallets/assets/index.vue":()=>import("./assets/index-Db_BPM8p.js"),"/src/pages/default/mobile/wallets/bill.vue":()=>import("./assets/bill-DXQBT21l.js"),"/src/pages/default/mobile/wallets/convert/create.vue":()=>import("./assets/create-BpTa74dv.js"),"/src/pages/default/mobile/wallets/convert/index.vue":()=>import("./assets/index-kNays2E5.js"),"/src/pages/default/mobile/wallets/deposit.vue":()=>import("./assets/deposit-mTCxat4q.js"),"/src/pages/default/mobile/wallets/index.vue":()=>import("./assets/index-C2iMZu1u.js"),"/src/pages/default/mobile/wallets/transfer/create.vue":()=>import("./assets/create-CevDa3dk.js"),"/src/pages/default/mobile/wallets/transfer/index.vue":()=>import("./assets/index-CqU6ejXf.js"),"/src/pages/default/mobile/wallets/withdraw.vue":()=>import("./assets/withdraw-Cw0Tr38R.js"),"/src/pages/errors.vue":()=>import("./assets/errors-XH97D_a0.js"),"/src/pages/index.vue":()=>import("./assets/index-CvFRLA6v.js")})),_=pe(function(){const r=ie({scrollBehavior:()=>({left:0,top:0}),routes:ye,history:le("/")}),s=k();return r.beforeEach((o,a,i)=>{(o.name===P||o.name===z)&&s.userToken.length>0?i({name:j}):o.matched.some(l=>l.meta.requireAuth)&&s.userToken.length==0?i({name:P}):i()}),r}),n=(e,r)=>`/src/pages/${e}/desktop/${r}`,u=(e,r)=>`/src/pages/${e}/mobile/${r}`,we=async(e,r,s)=>{e.removeRoute("ErrorNotFound"),await s.forEach(o=>{e.addRoute({path:o.path,name:o.name,component:N[o.component],meta:o.meta}),o.children&&o.children.length>0&&o.children.forEach(a=>{e.addRoute(o.name,{path:a.path,name:a.name,component:N[r.is.mobile?a.mobile.component:a.desktop.component],meta:r.is.mobile?a.mobile.meta:a.desktop.meta})})}),e.addRoute({path:"/:catchAll(.*)*",name:"ErrorNotFound",component:()=>import("./assets/404-yNUwoHkN.js")}),e.replace({path:e.currentRoute.value.path,query:e.currentRoute.value.query})},t="default",be=[{name:"Layouts",path:"/",component:"/src/layouts/main.vue",meta:{},children:[{name:j,path:"/",desktop:{component:n(t,"home.vue"),meta:{}},mobile:{component:u(t,"home.vue"),meta:{footer:!0}},children:[]},{name:P,path:"/login",desktop:{component:n(t,"home.vue"),meta:{}},mobile:{component:u(t,"login.vue"),meta:{}},children:[]},{name:z,path:"/register",desktop:{component:n(t,"home.vue"),meta:{}},mobile:{component:u(t,"register.vue"),meta:{}},children:[]},{name:"ProductMarkets",path:"/markets",desktop:{component:n(t,"markets.vue"),meta:{}},mobile:{component:u(t,"markets.vue"),meta:{footer:!0}},children:[]},{name:"ProductFutures",path:"/futures",desktop:{component:n(t,"product/futures.vue"),meta:{}},mobile:{component:u(t,"product/futures.vue"),meta:{footer:!0}},children:[]},{name:"ProductContract",path:"/contract",desktop:{component:n(t,"product/contract.vue"),meta:{}},mobile:{component:u(t,"product/contract.vue"),meta:{footer:!0}},children:[]},{name:"UserIndex",path:"/users",desktop:{component:n(t,"home.vue"),meta:{requireAuth:!0}},mobile:{component:u(t,"users/index.vue"),meta:{requireAuth:!0,footer:!0}},children:[]},{name:"ArticleIndex",path:"/article",desktop:{component:n(t,"article/index.vue"),meta:{}},mobile:{component:u(t,"article/index.vue"),meta:{header:!0}},children:[]},{name:"DownloadIndex",path:"/download",desktop:{component:n(t,"download.vue"),meta:{}},mobile:{component:u(t,"download.vue"),meta:{header:!0}},children:[]},{name:"LangIndex",path:"/lang",desktop:{component:n(t,"home.vue"),meta:{}},mobile:{component:u(t,"lang.vue"),meta:{header:!0}},children:[]},{name:"HelpersIndex",path:"/helpers",desktop:{component:n(t,"helpers.vue"),meta:{}},mobile:{component:u(t,"helpers.vue"),meta:{header:!0}},children:[]},{name:"InviteIndex",path:"/users/team/invite",desktop:{component:n(t,"users/team/invite.vue"),meta:{requireAuth:!0}},mobile:{component:u(t,"users/team/invite.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"UserSetting",path:"/users/setting",desktop:{component:n(t,"users/setting/index.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"users/setting/info.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"SettingsIndex",path:"/settings",desktop:{component:n(t,"users/setting/index.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"users/setting/index.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"UserUpdatePassword",path:"/users/setting/update/password",desktop:{component:n(t,"users/setting/index.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"users/setting/password.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"UserUpdateSecretKey",path:"/users/setting/update/secret",desktop:{component:n(t,"users/setting/index.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"users/setting/secretKey.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"UserAuthIndex",path:"/users/auth",desktop:{component:n(t,"users/auth.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"users/auth.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"UserLevelIndex",path:"/users/level",desktop:{component:n(t,"users/level.vue"),meta:{requireAuth:!0}},mobile:{component:u(t,"users/level.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"TeamIndex",path:"/users/team",desktop:{component:n(t,"users/team/index.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"users/team/index.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"TeamDetailsIndex",path:"/users/team/earnings",desktop:{component:n(t,"users/team/details.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"users/team/details.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"WalletsAccountIndex",path:"/wallets/account",desktop:{component:n(t,"wallets/account/index.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"wallets/account/index.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"WalletsAccountUpdate",path:"/wallets/account/update",desktop:{component:n(t,"wallets/account/update.vue"),meta:{requireAuth:!0}},mobile:{component:u(t,"wallets/account/update.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"WalletsDeposit",path:"/wallets/deposit",desktop:{component:n(t,"wallets/deposit.vue"),meta:{requireAuth:!0}},mobile:{component:u(t,"wallets/deposit.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"WalletsWithdraw",path:"/wallets/withdraw",desktop:{component:n(t,"wallets/withdraw.vue"),meta:{requireAuth:!0}},mobile:{component:u(t,"wallets/withdraw.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"WalletsIndex",path:"/wallets",desktop:{component:n(t,"wallets/index.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"wallets/index.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"WalletsBill",path:"/wallets/bill",desktop:{component:n(t,"wallets/bill.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"wallets/bill.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"WalletsAssetsDetails",path:"/wallets/assets/details",desktop:{component:n(t,"wallets/assets/details.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"wallets/assets/details.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"WalletsAssets",path:"/wallets/assets",desktop:{component:n(t,"wallets/assets/index.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"wallets/assets/index.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"WalletsTransferRecord",path:"/wallets/transfer/record",desktop:{component:n(t,"wallets/transfer/index.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"wallets/transfer/index.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"WalletsTransferCreate",path:"/wallets/transfer",desktop:{component:n(t,"wallets/transfer/create.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"wallets/transfer/create.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"WalletsConvertRecord",path:"/wallets/convert/record",desktop:{component:n(t,"wallets/convert/index.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"wallets/convert/index.vue"),meta:{requireAuth:!0,header:!0}},children:[]},{name:"WalletsConvertCreate",path:"/wallets/convert",desktop:{component:n(t,"wallets/convert/create.vue"),meta:{requireAuth:!0,drawerLeft:!0}},mobile:{component:u(t,"wallets/convert/create.vue"),meta:{requireAuth:!0,header:!0}},children:[]}]}],ke=new Map([[t,be]]),Ae=[{path:"/:catchAll(.*)*",name:"ErrorNotFound",component:()=>import("./assets/index-CvFRLA6v.js")},{path:"/errors",name:"NetworkError",component:()=>import("./assets/errors-XH97D_a0.js")}],ye=Ae,Le=(e,r)=>{const s={};s[r]={};for(let o=0;o<e.length;o++)s[r][e[o].label]=e[o].value;return s},B=(e,r,s)=>{const o=Le(r,s);e.setLocaleMessage(s,o[s]),e.locale.value=s},_e=H(({app:e})=>{const r=de({globalInjection:!0,missingWarn:!1,fallbackWarn:!1,legacy:!1});e.use(r)}),qe=Object.freeze(Object.defineProperty({__proto__:null,default:_e,setLanguageFunc:B},Symbol.toStringTag,{value:"Module"})),q=(e,r)=>{M.create({type:e,position:"top",timeout:2e3,message:r})},d=T.create({baseURL:"https://api.ainn.us"});d.interceptors.request.use(e=>{const r=k();return e.showLoading&&v.show({spinner:te,spinnerColor:"secondary",spinnerSize:50,message:"loading..."}),r.userToken!==""&&!e.headers.Authorization&&(e.headers.Authorization="Bearer "+r.userToken),r.userLang!==""&&(e.headers["Accept-Language"]=r.userLang),e});d.interceptors.response.use(e=>{v.hide();const r=e.data;return r.hasOwnProperty("code")?r.code===0?r.data:(q("negative",r.msg),Promise.reject(r.msg)):r},e=>{const r=k();if(v.hide(),e.response)switch(e.response.status){case 401:q("negative",e.response.data),r.updateToken("");break;case 500:break;default:q("negative",e.response.data)}return Promise.reject(e)});const xe=H(({app:e})=>{e.config.globalProperties.$axios=T,e.config.globalProperties.$api=d}),Se=Object.freeze(Object.defineProperty({__proto__:null,api:d,default:xe},Symbol.toStringTag,{value:"Module"})),Ie=e=>d.post("/access",e),je=()=>d.post("/translate",{},{showLoading:!0}),ze=e=>d.post("/auth/upload",e,{showLoading:!0}),Be=()=>d.post("/download",{},{showLoading:!0}),Je=()=>d.post("/online",{},{showLoading:!0}),$=D({name:"App",preFetch({store:e,ssrContext:r}){v.show();const s=S(e),o=k(e),a=b.parseSSR(r);return o.userToken=a.get(R)??"",o.userLang=a.get(I)??"",new Promise(i=>{T({method:"get",url:"https://api.ainn.us/init",headers:{lang:o.userLang,origin:"http://"+r?.req.get("host")}}).then(l=>{const p=l.data.data;s.domainStatus="",s.config=p.config,s.setting=p.setting,s.countryList=p.countryList,s.langList=p.langList,s.translate=p.translate,s.menuList=p.menuList,o.userLang==""&&(o.userLang=p.langList[0].symbol),i(!0)}).catch(l=>{s.domainStatus=l.hasOwnProperty("response")?l.response.data:"Network Error",i(!1)})}).then(()=>{v.hide()})},__name:"App",setup(e,{expose:r}){r();const s=S(),o=ce(),a=k(),i=he();K(async()=>{if(s.domainStatus!=""){o.push({name:"NetworkError"});return}const h=b.get(R),w=b.get(I);h&&(a.userToken=h),w&&(a.userLang=w),a.userInfo=A.getItem(y)?JSON.parse(A.getItem(y)):{},B(i,s.translate,a.userLang);const m=ke.get(s.config.template);await we(o,se,m),Ie({name:"init",type:1}).catch(()=>{})});const l={title:s.config.name,meta:{description:{name:"description",content:s.config.name}},link:{material:{rel:"icon",href:ve(s.config.logo),type:"image/png"}}};s.domainStatus==""&&re(()=>l);const p={$initStore:s,$router:o,$userStore:a,$i18n:i,metaData:l};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),Re=(e,r)=>{const s=e.__vccOpts||e;for(const[o,a]of r)s[o]=a;return s};function Pe(e,r,s,o,a,i,l,p){const h=V("router-view");r(fe(h,o,null,s))}const O=$.setup;$.setup=(e,r)=>{const s=Q();return(s.modules||(s.modules=new Set)).add("src/App.vue"),O?O(e,r):void 0};const g=Re($,[["ssrRender",Pe],["__file","App.vue"]]),x=me(async()=>ue()),Te=D({name:"AppWrapper",setup(e){return K(()=>{const{proxy:{$q:r}}=G();r.onSSRHydrated!==void 0&&r.onSSRHydrated()}),()=>X(g,e)}});async function $e(e,r,s){const o=e(Te);o.use(oe,r,s);const a=typeof x=="function"?await x({ssrContext:s}):x;o.use(a),typeof window<"u"&&window.__INITIAL_STATE__!==void 0&&(a.state.value=window.__INITIAL_STATE__,delete window.__INITIAL_STATE__);const i=Y(typeof _=="function"?await _({ssrContext:s,store:a}):_);return a.use(({store:l})=>{l.router=i}),{app:o,store:a,router:i}}const Ne={config:{},plugins:{Notify:M,Dialog:ae,Loading:v,Meta:ne}},U=typeof g.preFetch=="function"?g.preFetch:g.__c!==void 0&&typeof g.__c.preFetch=="function"?g.__c.preFetch:!1,W="/",Oe=/^https?:\/\//;function E(e,r){if(typeof e=="string"&&Oe.test(e)===!0)return e;try{return r.resolve(e).href}catch{}return e}const{components:Qe,directives:Ve,...Ue}=Ne,F=await Promise.all([Promise.resolve().then(()=>Se),Promise.resolve().then(()=>qe)]).then(e=>e.map(r=>r.default).filter(r=>typeof r=="function")),Ge=e=>new Promise(async(r,s)=>{const{app:o,router:a,store:i}=await $e(Z,Ue,e);let l=!1;const p=(m,f)=>{l=!0,s({url:E(m,a),code:f})};for(let m=0;l===!1&&m<F.length;m++)try{await F[m]({app:o,router:a,store:i,ssrContext:e,redirect:p,urlPath:e.req.url,publicPath:W})}catch(f){s(f);return}if(l===!0)return;o.use(a);const h=e.req.url,{fullPath:w}=a.resolve(h);if(w!==h)return s({url:w});a.push(h).catch(()=>{}),a.isReady().then(()=>{let m=a.currentRoute.value.matched.filter(c=>c.components!==void 0).flatMap(c=>Object.values(c.components));if(m.length===0)return s({code:404});let f=!1;const J=(c,L)=>{f=!0,s({url:E(c,a),code:L})};m=m.filter(c=>typeof c.preFetch=="function"||c.__c!==void 0&&typeof c.__c.preFetch=="function").map(c=>c.__c!==void 0?c.__c.preFetch:c.preFetch),U!==!1&&m.unshift(U),m.reduce((c,L)=>c.then(()=>f===!1&&L({store:i,ssrContext:e,currentRoute:a.currentRoute.value,redirect:J,urlPath:e.req.url,publicPath:W})),Promise.resolve()).then(()=>{f!==!0&&(e.state=ee(i.state),r(o))}).catch(s)}).catch(s)});export{q as N,Re as _,ve as a,d as b,ze as c,Be as d,Ge as default,S as i,Je as o,B as s,je as t,k as u};
