import{defineComponent as C,onMounted as V,resolveComponent as p,mergeProps as R,withCtx as I,createVNode as q,useSSRContext as U}from"vue";import{t as F}from"./transfer-drcu0DTw.js";import{u as K}from"./info-D5Z-xS4G.js";import{G as S}from"./dialog-D4Hcswnk.js";import{useI18n as k}from"vue-i18n/dist/vue-i18n.runtime.node.mjs";import{useRouter as A}from"vue-router";import{ssrRenderAttrs as N,ssrInterpolate as c,ssrRenderComponent as n}from"vue/server-renderer";import{_ as $}from"../server-entry.js";import"./assets-DxW8phUF.js";import"./info-ChQOlZzO.js";import"quasar";import"pinia";import"axios";import"quasar/wrappers";const v=C({name:"WalletsTransferCreate",__name:"create",emits:["update"],setup(a,{expose:s,emit:t}){s();const{securityDialogRef:u,transferParams:g,assetsList:e,assetsInfo:P,walletsAssetsListFunc:y,submitFunc:l,createTransferFunc:b}=F(),{userInfoFunc:m}=K();V(()=>{m(),y()});const r=k(),o=A(),i=t;i("update",{title:r.t("transfer"),right:{callback:()=>{o.push({name:"WalletsTransferRecord"})},icon:"o_wysiwyg"}});const d={securityDialogRef:u,transferParams:g,assetsList:e,assetsInfo:P,walletsAssetsListFunc:y,submitFunc:l,createTransferFunc:b,userInfoFunc:m,$i18n:r,$router:o,emit:i,GlobalDialog:S};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}});function D(a,s,t,u,g,e,P,y){const l=p("q-input"),b=p("q-select"),m=p("q-btn");s(`<div${N(R({class:"q-pa-md bg-white q-gutter-y-md"},u))}><div><div class="text-weight-bold q-mb-sm">${c(a.$t("transferUserName"))}</div>`),s(n(l,{type:"text",outlined:"",modelValue:e.transferParams.userName,"onUpdate:modelValue":r=>e.transferParams.userName=r,placeholder:a.$t("enterUserName")},null,t)),s(`</div><div><div class="text-weight-bold q-mb-sm">${c(a.$t("assets"))}</div>`),s(n(b,{modelValue:e.assetsInfo,"onUpdate:modelValue":[r=>e.assetsInfo=r,r=>e.transferParams.assetsId=e.assetsInfo.id],outlined:"",options:e.assetsList,"option-value":"id","option-label":"name","dropdown-icon":"expand_more"},null,t)),s(`</div><div><div class="text-weight-bold q-mb-sm">${c(a.$t("money"))}</div>`),s(n(l,{type:"number",outlined:"",modelValue:e.transferParams.money,"onUpdate:modelValue":r=>e.transferParams.money=r,modelModifiers:{number:!0},placeholder:a.$t("enterMoney")},{append:I((r,o,i,d)=>{if(o)o(n(m,{onClick:f=>e.transferParams.money=e.assetsInfo.userAssets.money,flat:"",dense:"",label:a.$t("all"),color:"primary"},null,i,d));else return[q(m,{onClick:f=>e.transferParams.money=e.assetsInfo.userAssets.money,flat:"",dense:"",label:a.$t("all"),color:"primary"},null,8,["onClick","label"])]}),_:1},t)),s(`<div class="text-right q-mt-sm"><div class="text-grey"><span class="q-mr-sm">${c(e.transferParams.assetsId>0?a.$t("availableAssets"):a.$t("availableBalance"))}</span>`),e.transferParams.assetsId==0?s(`<span>${c(a.$t("currency"))}</span>`):s("<!---->"),s(`<span>${c(Number(e.assetsInfo.userAssets.money).toFixed(4)+" "+(e.transferParams.assetsId==0?"":e.assetsInfo.name))}</span></div></div></div><div class="q-mt-lg">`),s(n(m,{rounded:"",unelevated:"",color:"primary","no-caps":"",label:a.$t("submit"),size:"lg",onClick:e.submitFunc,class:"full-width"},null,t)),s("</div>"),s(n(e.GlobalDialog,{ref:"securityDialogRef",title:a.$t("secretKey"),"on-confirm-callback":e.createTransferFunc},{default:I((r,o,i,d)=>{if(o)o(n(l,{outlined:"",modelValue:e.transferParams.securityKey,"onUpdate:modelValue":f=>e.transferParams.securityKey=f,type:"password",label:a.$t("enterSecretKey")},null,i,d));else return[q(l,{outlined:"",modelValue:e.transferParams.securityKey,"onUpdate:modelValue":f=>e.transferParams.securityKey=f,type:"password",label:a.$t("enterSecretKey")},null,8,["modelValue","onUpdate:modelValue","label"])]}),_:1},t)),s("</div>")}const w=v.setup;v.setup=(a,s)=>{const t=U();return(t.modules||(t.modules=new Set)).add("src/pages/default/mobile/wallets/transfer/create.vue"),w?w(a,s):void 0};const Q=$(v,[["ssrRender",D],["__file","create.vue"]]);export{Q as default};
