import{defineComponent as N,onMounted as U,resolveComponent as f,mergeProps as A,withCtx as b,createVNode as v,openBlock as p,createBlock as u,createTextVNode as B,toDisplayString as j,createCommentVNode as Q,useSSRContext as O}from"vue";import{d as W}from"./deposit-DlZDJBsP.js";import{b as z}from"./order-BjFUygQp.js";import{g as X}from"./account-CXZNAavx.js";import{u as E}from"./uploader-DYgAejq8.js";import{a as G,_ as H}from"../server-entry.js";import{useI18n as J}from"vue-i18n/dist/vue-i18n.runtime.node.mjs";import{ssrRenderAttrs as K,ssrInterpolate as n,ssrRenderList as C,ssrRenderStyle as q,ssrRenderComponent as a,ssrRenderAttr as Y}from"vue/server-renderer";import"./index-DuBF_jBm.js";import"quasar";import"qrcode-svg-ts";import"vue-router";import"compressorjs";import"pinia";import"axios";import"quasar/wrappers";const R=N({name:"WalletsDeposit",__name:"deposit",emits:["update"],setup(i,{expose:t,emit:o}){t();const{mode:x,createParams:F,paymentList:e,currentPayment:L,currentQrcode:V,walletsPaymentListFunc:c,switchPayment:P,createDepositFunc:s,copyFunc:w}=W();U(()=>{c()});const y=J(),S=o;S("update",{title:x.value==z?y.t("deposit"):y.t("assetsDeposit"),right:{callback:()=>{},icon:""}});const r={mode:x,createParams:F,paymentList:e,currentPayment:L,currentQrcode:V,walletsPaymentListFunc:c,switchPayment:P,createDepositFunc:s,copyFunc:w,$i18n:y,emit:S,get balanceDepositMode(){return z},get cardType1(){return X},uploader:E,get imageSrc(){return G}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function Z(i,t,o,x,F,e,L,V){const c=f("q-img"),P=f("q-input"),s=f("q-icon"),w=f("q-uploader-add-trigger"),y=f("q-card"),S=f("q-btn");t(`<div${K(A({class:"q-pa-md"},x))}><div class="text-body2 q-mb-sm">${n(e.mode==e.balanceDepositMode?i.$t("deposit"):i.$t("assetsDeposit"))}</div><div class="row q-col-gutter-sm"><!--[-->`),C(e.paymentList,(r,d)=>{t(`<div class="col-6"><div style="${q({width:"100%",height:"50px",borderRadius:"8px",border:r.id===e.currentPayment.id?"1px solid #31cbd2":""})}" class="q-pa-sm row no-wrap justify-center cursor-pointer relative-position bg-grey-2"><div style="${q({width:"32px"})}">`),t(a(c,{"no-spinner":"",src:e.imageSrc(r.icon),width:"32px",height:"32px"},null,o)),t(`</div><div style="${q({width:"calc(100% - 35px)"})}" class="q-ml-sm self-center ellipsis">${n(r.name)}</div>`),r.id===e.currentPayment.id?t(a(c,{"no-spinner":"",class:"absolute",src:"/src/assets/default/select.png",width:"30PX",height:"30px",style:{bottom:"0",right:"0"}},null,o)):t("<!---->"),t("</div></div>")}),t("<!--]--></div>"),e.currentPayment?(t("<div>"),e.currentPayment.type==e.cardType1?(t(`<div class="q-pa-md bg-grey-2 rounded-borders q-mt-md"><div style="${q({"border-bottom":"1px dashed #ddd"})}" class="q-pb-sm text-body2">${n(i.$t("accountInfo"))}</div><!--[-->`),C(e.currentPayment.data,(r,d)=>{t("<div>"),r.isShow?t(`<div class="row justify-between q-mt-md"><div class="text-body1">${n(r.value)}</div><div class="text-green">${n(i.$t("copy"))}</div></div>`):t("<!---->"),t("</div>")}),t("<!--]--></div>")):(t(`<div class="column items-center q-mt-lg"><div class="column q-gutter-sm full-width"><div class="q-my-md text-center"><div class="text-center q-my-xs">${n(i.$t("addressInfo"))}</div><img${Y("src",e.currentQrcode)} alt=""></div><!--[-->`),C(e.currentPayment.data,(r,d)=>{t("<div>"),r.isShow?(t("<div>"),t(a(P,{outlined:"",modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,readonly:""},{append:b((g,l,M,m)=>{if(l)l(a(s,{name:"content_copy",class:"cursor-pointer",size:"xs",onClick:D=>e.copyFunc(r.value)},null,M,m));else return[v(s,{name:"content_copy",class:"cursor-pointer",size:"xs",onClick:D=>e.copyFunc(r.value)},null,8,["onClick"])]}),_:2},o)),t("</div>")):t("<!---->"),t("</div>")}),t("<!--]--></div></div>")),t("</div>")):t("<!---->"),t(`<div class="column full-width q-mt-md"><div class="q-my-sm"><div class="q-mb-sm">${n(i.$t("money"))} `),e.paymentList.length>0&&e.mode==e.balanceDepositMode?t(`<span> 1${n(e.currentPayment.name)} ≈ ${n(i.$t("currency"))}${n(e.currentPayment.rate)}</span>`):t("<!---->"),t("</div>"),t(a(P,{type:"number",placeholder:i.$t("money"),outlined:"",modelValue:e.createParams.money,"onUpdate:modelValue":r=>e.createParams.money=r},{append:b((r,d,g,l)=>{if(d)e.paymentList.length>0&&e.mode==e.balanceDepositMode?d(`<div class="column"${l}><div class="text-caption"${l}> ≈ <span${l}>${n(i.$t("currency"))}${n((e.currentPayment.rate*(e.createParams.money??0)).toFixed(2))}</span></div></div>`):d("<!---->");else return[e.paymentList.length>0&&e.mode==e.balanceDepositMode?(p(),u("div",{key:0,class:"column"},[v("div",{class:"text-caption"},[B(" ≈ "),v("span",null,j(i.$t("currency"))+j((e.currentPayment.rate*(e.createParams.money??0)).toFixed(2)),1)])])):Q("",!0)]}),_:1},o)),t("</div>"),e.paymentList.length>0&&e.currentPayment.isVoucher==1?(t(`<div class="q-my-sm"><div class="q-mb-xs">${n(i.$t("proof"))}</div><div>`),t(a(e.uploader,{onUploaded:r=>{e.createParams.voucher=r}},{default:b((r,d,g,l)=>{if(d)d(a(w,null,null,g,l)),d(a(y,{flat:""},{default:b((M,m,D,k)=>{if(m)m(`<div class="column items-center justify-center" style="${q({height:"150px",border:"grey 1px dashed"})}"${k}>`),e.createParams.voucher==""?m(a(s,{name:"add",color:"grey",size:"30px"},null,D,k)):m(a(c,{"no-spinner":"",src:e.imageSrc(e.createParams.voucher)},null,D,k)),m("</div>");else return[v("div",{class:"column items-center justify-center",style:{height:"150px",border:"grey 1px dashed"}},[e.createParams.voucher==""?(p(),u(s,{key:0,name:"add",color:"grey",size:"30px"})):(p(),u(c,{key:1,"no-spinner":"",src:e.imageSrc(e.createParams.voucher)},null,8,["src"]))])]}),_:1},g,l));else return[v(w),v(y,{flat:""},{default:b(()=>[v("div",{class:"column items-center justify-center",style:{height:"150px",border:"grey 1px dashed"}},[e.createParams.voucher==""?(p(),u(s,{key:0,name:"add",color:"grey",size:"30px"})):(p(),u(c,{key:1,"no-spinner":"",src:e.imageSrc(e.createParams.voucher)},null,8,["src"]))])]),_:1})]}),_:1},o)),t("</div></div>")):t("<!---->"),t(`<div class="q-mt-lg q-mb-md text-grey"><div>${n(i.$t("depositDesc"))}</div></div>`),t(a(S,{unelevated:"",rounded:"",color:"primary",label:i.$t("submit"),class:"q-my-md","no-caps":"",onClick:e.createDepositFunc,size:"lg"},null,o)),t("</div></div>")}const T=R.setup;R.setup=(i,t)=>{const o=O();return(o.modules||(o.modules=new Set)).add("src/pages/default/mobile/wallets/deposit.vue"),T?T(i,t):void 0};const ve=H(R,[["ssrRender",Z],["__file","deposit.vue"]]);export{ve as default};
