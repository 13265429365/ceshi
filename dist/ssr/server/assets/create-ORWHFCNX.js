import{defineComponent as C,onMounted as V,resolveComponent as b,withCtx as g,createVNode as I,useSSRContext as U}from"vue";import{t as R}from"./transfer-drcu0DTw.js";import{u as k}from"./info-D5Z-xS4G.js";import{G as F}from"./dialog-D4Hcswnk.js";import{ssrRenderAttrs as K,ssrRenderComponent as n,ssrInterpolate as i}from"vue/server-renderer";import{_ as S}from"../server-entry.js";import"./assets-DxW8phUF.js";import"./info-ChQOlZzO.js";import"quasar";import"vue-router";import"vue-i18n/dist/vue-i18n.runtime.node.mjs";import"pinia";import"axios";import"quasar/wrappers";const p=C({name:"WalletsTransferCreate",__name:"create",setup(a,{expose:s}){s();const{securityDialogRef:r,transferParams:f,assetsList:q,assetsInfo:e,walletsAssetsListFunc:u,submitFunc:P,createTransferFunc:l}=R(),{userInfoFunc:o}=k();V(()=>{o(),u()});const c={securityDialogRef:r,transferParams:f,assetsList:q,assetsInfo:e,walletsAssetsListFunc:u,submitFunc:P,createTransferFunc:l,userInfoFunc:o,GlobalDialog:F};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}});function A(a,s,r,f,q,e,u,P){const l=b("q-btn"),o=b("q-input"),c=b("q-select");s(`<div${K(f)}><div class="row justify-end q-my-xl q-px-xl">`),s(n(l,{onClick:t=>a.$router.push({name:"WalletsTransferRecord"}),class:"bg-grey-2",label:a.$t("transferRecord"),unelevated:""},null,r)),s(`</div><div class="row justify-center q-pa-xl"><div class="bg-white q-gutter-y-md col-5"><div><div class="text-weight-bold q-mb-sm">${i(a.$t("transferUserName"))}</div>`),s(n(o,{type:"text",outlined:"",modelValue:e.transferParams.UserName,"onUpdate:modelValue":t=>e.transferParams.UserName=t,placeholder:a.$t("enterUserName")},null,r)),s(`</div><div><div class="text-weight-bold q-mb-sm">${i(a.$t("assets"))}</div>`),s(n(c,{modelValue:e.assetsInfo,"onUpdate:modelValue":[t=>e.assetsInfo=t,t=>e.transferParams.assetsId=e.assetsInfo.id],outlined:"",options:e.assetsList,"option-value":"id","option-label":"name","dropdown-icon":"expand_more"},null,r)),s(`</div><div><div class="text-weight-bold q-mb-sm">${i(a.$t("money"))}</div>`),s(n(o,{type:"number",outlined:"",modelValue:e.transferParams.money,"onUpdate:modelValue":t=>e.transferParams.money=t,modelModifiers:{number:!0},placeholder:a.$t("enterMoney")},{append:g((t,m,v,y)=>{if(m)m(n(l,{onClick:d=>e.transferParams.money=e.assetsInfo.userAssets.money,flat:"",dense:"",label:a.$t("all"),color:"primary"},null,v,y));else return[I(l,{onClick:d=>e.transferParams.money=e.assetsInfo.userAssets.money,flat:"",dense:"",label:a.$t("all"),color:"primary"},null,8,["onClick","label"])]}),_:1},r)),s(`<div class="text-right q-mt-sm"><div class="text-grey"><span class="q-mr-sm">${i(e.transferParams.assetsId>0?a.$t("availableAssets"):a.$t("availableBalance"))}</span>`),e.transferParams.assetsId==0?s(`<span>${i(a.$t("currency"))}</span>`):s("<!---->"),s(`<span>${i(Number(e.assetsInfo.userAssets.money).toFixed(4)+" "+(e.transferParams.assetsId==0?"":e.assetsInfo.name))}</span></div></div></div><div class="q-my-xl">`),s(n(l,{rounded:"",unelevated:"",color:"primary","no-caps":"",label:a.$t("submit"),size:"lg",onClick:e.submitFunc,class:"full-width"},null,r)),s("</div></div></div>"),s(n(e.GlobalDialog,{ref:"securityDialogRef",title:a.$t("secretKey"),"on-confirm-callback":e.createTransferFunc},{default:g((t,m,v,y)=>{if(m)m(n(o,{outlined:"",modelValue:e.transferParams.securityKey,"onUpdate:modelValue":d=>e.transferParams.securityKey=d,type:"password",label:a.$t("enterSecretKey")},null,v,y));else return[I(o,{outlined:"",modelValue:e.transferParams.securityKey,"onUpdate:modelValue":d=>e.transferParams.securityKey=d,type:"password",label:a.$t("enterSecretKey")},null,8,["modelValue","onUpdate:modelValue","label"])]}),_:1},r)),s("</div>")}const w=p.setup;p.setup=(a,s)=>{const r=U();return(r.modules||(r.modules=new Set)).add("src/pages/default/desktop/wallets/transfer/create.vue"),w?w(a,s):void 0};const H=S(p,[["ssrRender",A],["__file","create.vue"]]);export{H as default};
