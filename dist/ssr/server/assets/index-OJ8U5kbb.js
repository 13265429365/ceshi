import{defineComponent as X,ref as Y,onMounted as Z,resolveComponent as b,withCtx as o,createVNode as e,toDisplayString as c,createTextVNode as D,openBlock as P,createBlock as G,Fragment as ee,renderList as te,withDirectives as le,vShow as ne,useSSRContext as oe}from"vue";import{u as ie}from"./info-D5Z-xS4G.js";import{u as re,i as se,a as ae,_ as de}from"../server-entry.js";import{useRouter as ce}from"vue-router";import{n as me,p as ue,s as fe,f as ge}from"./auth-57d620Eh.js";import{ssrRenderAttrs as ve,ssrRenderComponent as i,ssrInterpolate as w,ssrRenderStyle as be,ssrRenderList as E,ssrRenderClass as we}from"vue/server-renderer";import"./info-ChQOlZzO.js";import"vue-i18n/dist/vue-i18n.runtime.node.mjs";import"quasar";import"pinia";import"axios";import"quasar/wrappers";const M=X({name:"UserIndex",__name:"index",setup(l,{expose:n}){n();const m=ce(),I=re(),N=se(),t=Y(!1),{userInfo:T,userInfoFunc:L}=ie();Z(()=>{I.userToken!=""&&L()});const v={$router:m,$userStore:I,$initStore:N,dialog:t,userInfo:T,userInfoFunc:L,logoutFunc:()=>{I.updateToken(""),m.push({name:"HomeIndex"})},get imageSrc(){return ae},get nowAuth(){return me},get pendingAuth(){return ue},get successAuth(){return fe},get failedAuth(){return ge}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}});function ye(l,n,m,I,N,t,T,L){const U=b("q-avatar"),v=b("q-img"),j=b("q-chip"),p=b("q-icon"),x=b("q-btn"),_=b("q-item"),g=b("q-item-section"),K=b("q-list"),B=b("q-item-label"),$=b("q-separator"),Q=b("q-dialog"),H=b("q-card"),V=b("q-card-section");n(`<div${ve(I)}><div class="row justify-between no-wrap q-pt-xl q-px-md q-pb-lg bg-white"><div class="row no-wrap">`),n(i(U,{onClick:s=>t.$router.push({name:"SettingsIndex"}),class:"q-mr-md avatar"},{default:o((s,r,y,a)=>{if(r)r(i(v,{"no-spinner":"",src:t.imageSrc(t.userInfo.avatar??t.$initStore.config.logo),width:"50px",height:"50px"},null,y,a));else return[e(v,{"no-spinner":"",src:t.imageSrc(t.userInfo.avatar??t.$initStore.config.logo),width:"50px",height:"50px"},null,8,["src"])]}),_:1},m)),n(`<div class="col-9"><div class="row justify-start items-center"><div class="text-weight-bolder text-body1 q-mr-xs">${w(t.userInfo.userName??"- -")}</div><div class="text-caption text-grey">${w("(id: "+(t.userInfo.id??"- -")+")")}</div></div><div class="text-grey text-caption">${w(t.userInfo.email==""?"- -":t.userInfo.email)}</div><div class="row no-wrap items-center">`),t.userInfo.levelInfo.name!=""&&t.$initStore.setting.basic.showLevel?(n("<div>"),n(i(j,{class:"text-white justify-center",size:"sm",style:{background:"#322B19",border:"1px solid #F7DEB6"}},{default:o((s,r,y,a)=>{if(r)r(`<span style="${be({color:"#F7DEB6"})}"${a}>${w(l.$t("member")+" "+t.userInfo.levelInfo.name)}</span>`);else return[e("span",{style:{color:"#F7DEB6"},textContent:c(l.$t("member")+" "+t.userInfo.levelInfo.name)},null,8,["textContent"])]}),_:1},m)),n("</div>")):n("<!---->"),t.$initStore.setting.basic.showScore?n(i(j,{outline:"",class:"text-green bg-white",size:"sm"},{default:o((s,r,y,a)=>{if(r)r(`${w(l.$t("creditScore")+t.userInfo.score)}`);else return[D(c(l.$t("creditScore")+t.userInfo.score),1)]}),_:1},m)):n("<!---->"),t.$initStore.setting.basic.showAuth?(n("<div>"),t.userInfo.authInfo.status==t.nowAuth?n(i(j,{outline:"",class:"text-red bg-white",size:"sm"},{default:o((s,r,y,a)=>{if(r)r(`${w(l.$t("nowAuth"))}`);else return[D(c(l.$t("nowAuth")),1)]}),_:1},m)):t.userInfo.authInfo.status==t.pendingAuth?n(i(j,{outline:"",class:"bg-white text-info",size:"sm"},{default:o((s,r,y,a)=>{if(r)r(`${w(l.$t("pendingAuth"))}`);else return[D(c(l.$t("pendingAuth")),1)]}),_:1},m)):t.userInfo.authInfo.status==t.successAuth?n(i(j,{outline:"",class:"text-green bg-white",size:"sm"},{default:o((s,r,y,a)=>{if(r)r(`${w(l.$t("successAuth"))}`);else return[D(c(l.$t("successAuth")),1)]}),_:1},m)):n("<!---->"),t.userInfo.authInfo.status==t.failedAuth?n(i(j,{outline:"",class:"bg-white text-red",size:"sm"},{default:o((s,r,y,a)=>{if(r)r(`${w(l.$t("failedAuth"))}`);else return[D(c(l.$t("failedAuth")),1)]}),_:1},m)):n("<!---->"),n("</div>")):n("<!---->"),n('</div></div></div><div class="row items-center">'),n(i(p,{name:"keyboard_arrow_right",size:"24px"},null,m)),n('</div></div><div class="bg-grey-1 q-px-md q-py-md full-width"><div class="row items-center justify-between"><!--[-->'),E(t.$initStore.menuList.more,(s,r)=>{n("<!--[-->"),r<4?(n(`<div class="col-6"><div class="${we(r%2==0?"q-mr-xs":"q-ml-xs")}">`),n(i(x,{onClick:y=>t.$router.push(s.route),class:"bg-white rounded-borders full-width q-mb-sm","no-caps":"",unelevated:""},{default:o((y,a,z,h)=>{if(a)a(i(_,{class:"no-padding"},{default:o((u,S,k,f)=>{if(S)S(i(g,{avatar:""},{default:o((C,d,A,q)=>{if(d)d(i(v,{"no-spinner":"",class:"q-mr-sm",src:t.imageSrc(s.icon),width:"42px",height:"42px"},null,A,q));else return[e(v,{"no-spinner":"",class:"q-mr-sm",src:t.imageSrc(s.icon),width:"42px",height:"42px"},null,8,["src"])]}),_:2},k,f)),S(i(g,null,{default:o((C,d,A,q)=>{if(d)d(`<div class="ellipsis-2-lines"${q}>${w(l.$t(s.name))}</div>`);else return[e("div",{textContent:c(l.$t(s.name)),class:"ellipsis-2-lines"},null,8,["textContent"])]}),_:2},k,f));else return[e(g,{avatar:""},{default:o(()=>[e(v,{"no-spinner":"",class:"q-mr-sm",src:t.imageSrc(s.icon),width:"42px",height:"42px"},null,8,["src"])]),_:2},1024),e(g,null,{default:o(()=>[e("div",{textContent:c(l.$t(s.name)),class:"ellipsis-2-lines"},null,8,["textContent"])]),_:2},1024)]}),_:2},z,h));else return[e(_,{class:"no-padding"},{default:o(()=>[e(g,{avatar:""},{default:o(()=>[e(v,{"no-spinner":"",class:"q-mr-sm",src:t.imageSrc(s.icon),width:"42px",height:"42px"},null,8,["src"])]),_:2},1024),e(g,null,{default:o(()=>[e("div",{textContent:c(l.$t(s.name)),class:"ellipsis-2-lines"},null,8,["textContent"])]),_:2},1024)]),_:2},1024)]}),_:2},m)),n("</div></div>")):n("<!---->"),n("<!--]-->")}),n("<!--]--></div><!--[-->"),E(t.$initStore.menuList.setting,(s,r)=>{n(i(K,{key:r,bordered:"",class:"q-mb-md rounded-borders no-border overflow-hidden"},{default:o((y,a,z,h)=>{if(a)a("<!--[-->"),E(s.children,(u,S)=>{a(`<div class="bg-white"${h}>`),a(i(_,{onClick:k=>t.$router.push(u.route),style:u.isMobile==1?null:{display:"none"},class:"q-pa-md",clickable:""},{default:o((k,f,C,d)=>{if(f)f(i(g,{avatar:"",class:"q-mr-sm",style:{"min-width":"0"}},{default:o((A,q,F,R)=>{if(q)q(i(v,{"no-spinner":"",src:`${t.imageSrc(u.icon)}`,width:"24px",height:"24px"},null,F,R));else return[e(v,{"no-spinner":"",src:`${t.imageSrc(u.icon)}`,width:"24px",height:"24px"},null,8,["src"])]}),_:2},C,d)),f(i(g,null,{default:o((A,q,F,R)=>{if(q)q(i(B,{class:"text-weight-bold"},{default:o((qe,O,xe,W)=>{if(O)O(`<div${W}>${w(l.$t(u.name))}</div>`);else return[e("div",{textContent:c(l.$t(u.name))},null,8,["textContent"])]}),_:2},F,R));else return[e(B,{class:"text-weight-bold"},{default:o(()=>[e("div",{textContent:c(l.$t(u.name))},null,8,["textContent"])]),_:2},1024)]}),_:2},C,d)),f(i(g,{side:""},{default:o((A,q,F,R)=>{if(q)q(i(p,{name:"keyboard_arrow_right",size:"24px"},null,F,R));else return[e(p,{name:"keyboard_arrow_right",size:"24px"})]}),_:2},C,d));else return[e(g,{avatar:"",class:"q-mr-sm",style:{"min-width":"0"}},{default:o(()=>[e(v,{"no-spinner":"",src:`${t.imageSrc(u.icon)}`,width:"24px",height:"24px"},null,8,["src"])]),_:2},1024),e(g,null,{default:o(()=>[e(B,{class:"text-weight-bold"},{default:o(()=>[e("div",{textContent:c(l.$t(u.name))},null,8,["textContent"])]),_:2},1024)]),_:2},1024),e(g,{side:""},{default:o(()=>[e(p,{name:"keyboard_arrow_right",size:"24px"})]),_:1})]}),_:2},z,h)),a(i($,{style:{background:"#F4F5FD"},inset:""},null,z,h)),a("</div>")}),a("<!--]-->");else return[(P(!0),G(ee,null,te(s.children,(u,S)=>(P(),G("div",{key:S,class:"bg-white"},[le(e(_,{onClick:k=>t.$router.push(u.route),class:"q-pa-md",clickable:""},{default:o(()=>[e(g,{avatar:"",class:"q-mr-sm",style:{"min-width":"0"}},{default:o(()=>[e(v,{"no-spinner":"",src:`${t.imageSrc(u.icon)}`,width:"24px",height:"24px"},null,8,["src"])]),_:2},1024),e(g,null,{default:o(()=>[e(B,{class:"text-weight-bold"},{default:o(()=>[e("div",{textContent:c(l.$t(u.name))},null,8,["textContent"])]),_:2},1024)]),_:2},1024),e(g,{side:""},{default:o(()=>[e(p,{name:"keyboard_arrow_right",size:"24px"})]),_:1})]),_:2},1032,["onClick"]),[[ne,u.isMobile==1]]),e($,{style:{background:"#F4F5FD"},inset:""})]))),128))]}),_:2},m))}),n("<!--]-->"),n(i(x,{onClick:s=>t.dialog=!0,class:"full-width q-mb-lg q-mt-md",size:"lg",unelevated:"",rounded:"","no-caps":"",color:"primary",label:l.$t("logout")},null,m)),n("</div>"),n(i(Q,{"full-width":"",modelValue:t.dialog,"onUpdate:modelValue":s=>t.dialog=s,position:"bottom"},{default:o((s,r,y,a)=>{if(r)r(i(H,null,{default:o((z,h,u,S)=>{if(h)h(i(V,null,{default:o((k,f,C,d)=>{if(f)f(`<div class="row justify-center q-mb-lg"${d}>`),f(i($,{class:"rounded-borders col-3",style:{height:"4px"},color:"grey-4"},null,C,d)),f(`</div><div class="row justify-center q-my-md"${d}><div class="text-weight-bold text-h6"${d}>${w(l.$t("logout"))}</div></div>`),f(i($,{class:"q-mt-md q-mb-lg",color:"grey-4"},null,C,d)),f(`<div class="row justify-center q-mb-xl"${d}><div class="text-grey-10"${d}>${w(l.$t("logoutSmall"))}</div></div><div class="row justify-between no-wrap"${d}>`),f(i(x,{onClick:A=>t.dialog=!1,size:"lg",class:"q-mr-md text-primary bg-white col-5",unelevated:"",rounded:"","no-caps":"",style:{border:"1px solid #31cbd2"},label:l.$t("cancel")},null,C,d)),f(i(x,{onClick:t.logoutFunc,size:"lg",class:"col-5",unelevated:"",rounded:"","no-caps":"",color:"primary",label:l.$t("logout")},null,C,d)),f("</div>");else return[e("div",{class:"row justify-center q-mb-lg"},[e($,{class:"rounded-borders col-3",style:{height:"4px"},color:"grey-4"})]),e("div",{class:"row justify-center q-my-md"},[e("div",{class:"text-weight-bold text-h6"},c(l.$t("logout")),1)]),e($,{class:"q-mt-md q-mb-lg",color:"grey-4"}),e("div",{class:"row justify-center q-mb-xl"},[e("div",{class:"text-grey-10"},c(l.$t("logoutSmall")),1)]),e("div",{class:"row justify-between no-wrap"},[e(x,{onClick:A=>t.dialog=!1,size:"lg",class:"q-mr-md text-primary bg-white col-5",unelevated:"",rounded:"","no-caps":"",style:{border:"1px solid #31cbd2"},label:l.$t("cancel")},null,8,["onClick","label"]),e(x,{onClick:t.logoutFunc,size:"lg",class:"col-5",unelevated:"",rounded:"","no-caps":"",color:"primary",label:l.$t("logout")},null,8,["label"])])]}),_:1},u,S));else return[e(V,null,{default:o(()=>[e("div",{class:"row justify-center q-mb-lg"},[e($,{class:"rounded-borders col-3",style:{height:"4px"},color:"grey-4"})]),e("div",{class:"row justify-center q-my-md"},[e("div",{class:"text-weight-bold text-h6"},c(l.$t("logout")),1)]),e($,{class:"q-mt-md q-mb-lg",color:"grey-4"}),e("div",{class:"row justify-center q-mb-xl"},[e("div",{class:"text-grey-10"},c(l.$t("logoutSmall")),1)]),e("div",{class:"row justify-between no-wrap"},[e(x,{onClick:k=>t.dialog=!1,size:"lg",class:"q-mr-md text-primary bg-white col-5",unelevated:"",rounded:"","no-caps":"",style:{border:"1px solid #31cbd2"},label:l.$t("cancel")},null,8,["onClick","label"]),e(x,{onClick:t.logoutFunc,size:"lg",class:"col-5",unelevated:"",rounded:"","no-caps":"",color:"primary",label:l.$t("logout")},null,8,["label"])])]),_:1})]}),_:1},y,a));else return[e(H,null,{default:o(()=>[e(V,null,{default:o(()=>[e("div",{class:"row justify-center q-mb-lg"},[e($,{class:"rounded-borders col-3",style:{height:"4px"},color:"grey-4"})]),e("div",{class:"row justify-center q-my-md"},[e("div",{class:"text-weight-bold text-h6"},c(l.$t("logout")),1)]),e($,{class:"q-mt-md q-mb-lg",color:"grey-4"}),e("div",{class:"row justify-center q-mb-xl"},[e("div",{class:"text-grey-10"},c(l.$t("logoutSmall")),1)]),e("div",{class:"row justify-between no-wrap"},[e(x,{onClick:z=>t.dialog=!1,size:"lg",class:"q-mr-md text-primary bg-white col-5",unelevated:"",rounded:"","no-caps":"",style:{border:"1px solid #31cbd2"},label:l.$t("cancel")},null,8,["onClick","label"]),e(x,{onClick:t.logoutFunc,size:"lg",class:"col-5",unelevated:"",rounded:"","no-caps":"",color:"primary",label:l.$t("logout")},null,8,["label"])])]),_:1})]),_:1})]}),_:1},m)),n("</div>")}const J=M.setup;M.setup=(l,n)=>{const m=oe();return(m.modules||(m.modules=new Set)).add("src/pages/default/mobile/users/index.vue"),J?J(l,n):void 0};const De=de(M,[["ssrRender",ye],["__file","index.vue"]]);export{De as default};
