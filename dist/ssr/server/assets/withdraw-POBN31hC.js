import{d as m}from"./index-DuBF_jBm.js";import{ref as w,reactive as d,toRefs as f}from"vue";import{e as h}from"./account-CXZNAavx.js";import{i as l,N as c}from"../server-entry.js";import{useRouter as p}from"vue-router";import{useI18n as y}from"vue-i18n/dist/vue-i18n.runtime.node.mjs";const I=()=>{const i=l(),e=p(),o=y(),n=w(null),t=d({mode:e.currentRoute.value.query.mode?Number(e.currentRoute.value.query.mode):h,currentAccount:{paymentInfo:{}},withdrawParams:{}}),s=r=>{if(r<=0)return c("negative",o.t("notBindWithdrawAccount")),!1;i.setting.wallets.showAccountSecurityKey?n.value?.openFunc():a()},a=()=>{t.withdrawParams.accountId=t.currentAccount.id,t.withdrawParams.money=Number(t.withdrawParams.money),m(t.withdrawParams).then(()=>{c("positive",o.t("success")),e.back()})},u=r=>{t.currentAccount=r};return{securityDialogRef:n,...f(t),submitFunc:s,createWithdrawFunc:a,switchPayment:u}};export{I as w};
