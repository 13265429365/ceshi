import{defineComponent as O,onMounted as E,resolveComponent as b,mergeProps as G,withCtx as s,createVNode as o,openBlock as d,createBlock as c,createCommentVNode as p,toDisplayString as m,useSSRContext as H}from"vue";import{u as J}from"./index-UapIlSLw.js";import{i as K,_ as Q}from"../server-entry.js";import{ssrRenderComponent as i,ssrInterpolate as S,ssrRenderAttr as W,ssrRenderStyle as X}from"vue/server-renderer";import"vue-router";import"vue-i18n/dist/vue-i18n.runtime.node.mjs";import"quasar";import"pinia";import"axios";import"quasar/wrappers";const F=O({name:"UserLogin",__name:"login",emits:["switchDialogFunc","switchDialogLogin"],setup(n,{expose:V,emit:P}){V();const U=K(),R=P,{loginParams:e,showTextPassword:z,baseURL:I,onlineInfo:T,refreshCaptchaFunc:v,userLoginFunc:k,onlineInfoFunc:l}=J();E(()=>{v(),l()});const x={$initStore:U,emit:R,loginParams:e,showTextPassword:z,baseURL:I,onlineInfo:T,refreshCaptchaFunc:v,userLoginFunc:k,onlineInfoFunc:l,toRegister:()=>{R("switchDialogFunc")}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}});function Y(n,V,P,U,R,e,z,I){const T=b("q-card"),v=b("q-card-section"),k=b("q-form"),l=b("q-input"),t=b("q-img"),x=b("q-icon"),C=b("q-btn");V(i(T,G({style:{width:"410px"}},U),{default:s((Z,D,B,N)=>{if(D)D(i(v,{class:"q-pa-lg"},{default:s((g,L,A,_)=>{if(L)L(`<div class="text-center text-weight-bold text-primary text-h4"${_}>${S(n.$t("login"))}</div><div class="text-center text-body1 text-weight-regular q-mt-sm text-grey"${_}>${S(n.$t("loginSmall"))}</div>`),L(i(k,{class:"q-mt-xl q-gutter-sm"},{default:s((h,w,q,y)=>{if(w)w(i(l,{"input-style":{fontSize:"16px"},outlined:"",modelValue:e.loginParams.username,"onUpdate:modelValue":a=>e.loginParams.username=a,label:n.$t("username")},{prepend:s((a,r,u,f)=>{if(r)r(i(t,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/username.png"},null,u,f));else return[o(t,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/username.png"})]}),_:1},q,y)),w(i(l,{"input-style":{fontSize:"16px"},outlined:"",modelValue:e.loginParams.password,"onUpdate:modelValue":a=>e.loginParams.password=a,type:e.showTextPassword.password?"text":"password",label:n.$t("password")},{prepend:s((a,r,u,f)=>{if(r)r(i(t,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/password.png"},null,u,f));else return[o(t,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/password.png"})]}),append:s((a,r,u,f)=>{if(r)r(i(x,{style:{color:"#999999"},name:e.showTextPassword.password?"visibility":"visibility_off",class:"cursor-pointer",onClick:M=>e.showTextPassword.password=!e.showTextPassword.password},null,u,f));else return[o(x,{style:{color:"#999999"},name:e.showTextPassword.password?"visibility":"visibility_off",class:"cursor-pointer",onClick:M=>e.showTextPassword.password=!e.showTextPassword.password},null,8,["name","onClick"])]}),_:1},q,y)),e.$initStore.setting.login.showVerify?w(i(l,{"input-style":{fontSize:"16px"},outlined:"",modelValue:e.loginParams.captchaVal,"onUpdate:modelValue":a=>e.loginParams.captchaVal=a,label:n.$t("code")},{prepend:s((a,r,u,f)=>{if(r)r(i(t,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/code.png"},null,u,f));else return[o(t,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/code.png"})]}),append:s((a,r,u,f)=>{if(r)e.loginParams.captchaId!==""?r(i(t,{"no-spinner":"",src:e.baseURL+"/captcha/"+e.loginParams.captchaId+"/150-50",width:"150px",height:"50px",onClick:e.refreshCaptchaFunc,class:"cursor-pointer"},null,u,f)):r("<!---->");else return[e.loginParams.captchaId!==""?(d(),c(t,{key:0,"no-spinner":"",src:e.baseURL+"/captcha/"+e.loginParams.captchaId+"/150-50",width:"150px",height:"50px",onClick:e.refreshCaptchaFunc,class:"cursor-pointer"},null,8,["src","onClick"])):p("",!0)]}),_:1},q,y)):w("<!---->"),w(`<div class="row justify-end q-mb-lg"${y}><a${W("href",e.onlineInfo.link)} style="${X({"text-decoration":"none"})}"${y}><div class="text-grey-7 cursor-pointer"${y}>${S(n.$t("forgotPassword"))}</div></a></div>`),w(i(C,{onClick:a=>{e.userLoginFunc(),e.emit("switchDialogLogin")},class:"full-width",unelevated:"",rounded:"","no-caps":"",style:{height:"44px"},color:"primary",label:n.$t("login")},null,q,y)),e.$initStore.setting.login.showRegister?w(`<div class="text-center text-primary q-mb-sm cursor-pointer"${y}>${S(n.$t("toRegister"))}</div>`):w("<!---->");else return[o(l,{"input-style":{fontSize:"16px"},outlined:"",modelValue:e.loginParams.username,"onUpdate:modelValue":a=>e.loginParams.username=a,label:n.$t("username")},{prepend:s(()=>[o(t,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/username.png"})]),_:1},8,["modelValue","onUpdate:modelValue","label"]),o(l,{"input-style":{fontSize:"16px"},outlined:"",modelValue:e.loginParams.password,"onUpdate:modelValue":a=>e.loginParams.password=a,type:e.showTextPassword.password?"text":"password",label:n.$t("password")},{prepend:s(()=>[o(t,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/password.png"})]),append:s(()=>[o(x,{style:{color:"#999999"},name:e.showTextPassword.password?"visibility":"visibility_off",class:"cursor-pointer",onClick:a=>e.showTextPassword.password=!e.showTextPassword.password},null,8,["name","onClick"])]),_:1},8,["modelValue","onUpdate:modelValue","type","label"]),e.$initStore.setting.login.showVerify?(d(),c(l,{key:0,"input-style":{fontSize:"16px"},outlined:"",modelValue:e.loginParams.captchaVal,"onUpdate:modelValue":a=>e.loginParams.captchaVal=a,label:n.$t("code")},{prepend:s(()=>[o(t,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/code.png"})]),append:s(()=>[e.loginParams.captchaId!==""?(d(),c(t,{key:0,"no-spinner":"",src:e.baseURL+"/captcha/"+e.loginParams.captchaId+"/150-50",width:"150px",height:"50px",onClick:e.refreshCaptchaFunc,class:"cursor-pointer"},null,8,["src","onClick"])):p("",!0)]),_:1},8,["modelValue","onUpdate:modelValue","label"])):p("",!0),o("div",{class:"row justify-end q-mb-lg"},[o("a",{href:e.onlineInfo.link,style:{"text-decoration":"none"}},[o("div",{class:"text-grey-7 cursor-pointer"},m(n.$t("forgotPassword")),1)],8,["href"])]),o(C,{onClick:a=>{e.userLoginFunc(),e.emit("switchDialogLogin")},class:"full-width",unelevated:"",rounded:"","no-caps":"",style:{height:"44px"},color:"primary",label:n.$t("login")},null,8,["onClick","label"]),e.$initStore.setting.login.showRegister?(d(),c("div",{key:1,onClick:a=>e.toRegister(),class:"text-center text-primary q-mb-sm cursor-pointer"},m(n.$t("toRegister")),9,["onClick"])):p("",!0)]}),_:1},A,_));else return[o("div",{class:"text-center text-weight-bold text-primary text-h4"},m(n.$t("login")),1),o("div",{class:"text-center text-body1 text-weight-regular q-mt-sm text-grey"},m(n.$t("loginSmall")),1),o(k,{class:"q-mt-xl q-gutter-sm"},{default:s(()=>[o(l,{"input-style":{fontSize:"16px"},outlined:"",modelValue:e.loginParams.username,"onUpdate:modelValue":h=>e.loginParams.username=h,label:n.$t("username")},{prepend:s(()=>[o(t,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/username.png"})]),_:1},8,["modelValue","onUpdate:modelValue","label"]),o(l,{"input-style":{fontSize:"16px"},outlined:"",modelValue:e.loginParams.password,"onUpdate:modelValue":h=>e.loginParams.password=h,type:e.showTextPassword.password?"text":"password",label:n.$t("password")},{prepend:s(()=>[o(t,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/password.png"})]),append:s(()=>[o(x,{style:{color:"#999999"},name:e.showTextPassword.password?"visibility":"visibility_off",class:"cursor-pointer",onClick:h=>e.showTextPassword.password=!e.showTextPassword.password},null,8,["name","onClick"])]),_:1},8,["modelValue","onUpdate:modelValue","type","label"]),e.$initStore.setting.login.showVerify?(d(),c(l,{key:0,"input-style":{fontSize:"16px"},outlined:"",modelValue:e.loginParams.captchaVal,"onUpdate:modelValue":h=>e.loginParams.captchaVal=h,label:n.$t("code")},{prepend:s(()=>[o(t,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/code.png"})]),append:s(()=>[e.loginParams.captchaId!==""?(d(),c(t,{key:0,"no-spinner":"",src:e.baseURL+"/captcha/"+e.loginParams.captchaId+"/150-50",width:"150px",height:"50px",onClick:e.refreshCaptchaFunc,class:"cursor-pointer"},null,8,["src","onClick"])):p("",!0)]),_:1},8,["modelValue","onUpdate:modelValue","label"])):p("",!0),o("div",{class:"row justify-end q-mb-lg"},[o("a",{href:e.onlineInfo.link,style:{"text-decoration":"none"}},[o("div",{class:"text-grey-7 cursor-pointer"},m(n.$t("forgotPassword")),1)],8,["href"])]),o(C,{onClick:h=>{e.userLoginFunc(),e.emit("switchDialogLogin")},class:"full-width",unelevated:"",rounded:"","no-caps":"",style:{height:"44px"},color:"primary",label:n.$t("login")},null,8,["onClick","label"]),e.$initStore.setting.login.showRegister?(d(),c("div",{key:1,onClick:h=>e.toRegister(),class:"text-center text-primary q-mb-sm cursor-pointer"},m(n.$t("toRegister")),9,["onClick"])):p("",!0)]),_:1})]}),_:1},B,N));else return[o(v,{class:"q-pa-lg"},{default:s(()=>[o("div",{class:"text-center text-weight-bold text-primary text-h4"},m(n.$t("login")),1),o("div",{class:"text-center text-body1 text-weight-regular q-mt-sm text-grey"},m(n.$t("loginSmall")),1),o(k,{class:"q-mt-xl q-gutter-sm"},{default:s(()=>[o(l,{"input-style":{fontSize:"16px"},outlined:"",modelValue:e.loginParams.username,"onUpdate:modelValue":g=>e.loginParams.username=g,label:n.$t("username")},{prepend:s(()=>[o(t,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/username.png"})]),_:1},8,["modelValue","onUpdate:modelValue","label"]),o(l,{"input-style":{fontSize:"16px"},outlined:"",modelValue:e.loginParams.password,"onUpdate:modelValue":g=>e.loginParams.password=g,type:e.showTextPassword.password?"text":"password",label:n.$t("password")},{prepend:s(()=>[o(t,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/password.png"})]),append:s(()=>[o(x,{style:{color:"#999999"},name:e.showTextPassword.password?"visibility":"visibility_off",class:"cursor-pointer",onClick:g=>e.showTextPassword.password=!e.showTextPassword.password},null,8,["name","onClick"])]),_:1},8,["modelValue","onUpdate:modelValue","type","label"]),e.$initStore.setting.login.showVerify?(d(),c(l,{key:0,"input-style":{fontSize:"16px"},outlined:"",modelValue:e.loginParams.captchaVal,"onUpdate:modelValue":g=>e.loginParams.captchaVal=g,label:n.$t("code")},{prepend:s(()=>[o(t,{"no-spinner":"",width:"24px",height:"24px",src:"/src/assets/default/icons/code.png"})]),append:s(()=>[e.loginParams.captchaId!==""?(d(),c(t,{key:0,"no-spinner":"",src:e.baseURL+"/captcha/"+e.loginParams.captchaId+"/150-50",width:"150px",height:"50px",onClick:e.refreshCaptchaFunc,class:"cursor-pointer"},null,8,["src","onClick"])):p("",!0)]),_:1},8,["modelValue","onUpdate:modelValue","label"])):p("",!0),o("div",{class:"row justify-end q-mb-lg"},[o("a",{href:e.onlineInfo.link,style:{"text-decoration":"none"}},[o("div",{class:"text-grey-7 cursor-pointer"},m(n.$t("forgotPassword")),1)],8,["href"])]),o(C,{onClick:g=>{e.userLoginFunc(),e.emit("switchDialogLogin")},class:"full-width",unelevated:"",rounded:"","no-caps":"",style:{height:"44px"},color:"primary",label:n.$t("login")},null,8,["onClick","label"]),e.$initStore.setting.login.showRegister?(d(),c("div",{key:1,onClick:g=>e.toRegister(),class:"text-center text-primary q-mb-sm cursor-pointer"},m(n.$t("toRegister")),9,["onClick"])):p("",!0)]),_:1})]),_:1})]}),_:1},P))}const j=F.setup;F.setup=(n,V)=>{const P=H();return(P.modules||(P.modules=new Set)).add("src/pages/default/desktop/login.vue"),j?j(n,V):void 0};const de=Q(F,[["ssrRender",Y],["__file","login.vue"]]);export{de as default};
